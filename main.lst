GAS LISTING /tmp/ccP3TZct.s 			page 1


   1               		.file	"main.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.stabs	"/home/jon/prog/c/avr/ledmatrixtoy/",100,0,2,.Ltext0
   8               		.stabs	"main.c",100,0,2,.Ltext0
   9               		.text
  10               	.Ltext0:
  11               		.stabs	"gcc2_compiled.",60,0,0,0
  12               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,0,0
  13               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,0,0
  14               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,0,0
  15               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,0,0
  16               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,0,0
  17               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,0,
  18               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,0,0
  19               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,0,0
  20               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,0,0
  21               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,0,0
  22               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,0,0
  23               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,0,0
  24               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,0,0
  25               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,0,0
  26               		.stabs	"void:t(0,15)=(0,15)",128,0,0,0
  27               		.stabs	"/usr/lib/gcc/avr/4.7.0/../../../avr/include/avr/io.h",130,0,0,0
  28               		.stabs	"/usr/lib/gcc/avr/4.7.0/../../../avr/include/avr/sfr_defs.h",130,0,0,0
  29               		.stabs	"/usr/lib/gcc/avr/4.7.0/../../../avr/include/inttypes.h",130,0,0,0
  30               		.stabs	"/usr/lib/gcc/avr/4.7.0/include/stdint.h",130,0,0,0
  31               		.stabs	"/usr/lib/gcc/avr/4.7.0/../../../avr/include/stdint.h",130,0,0,0
  32               		.stabs	"int8_t:t(5,1)=(0,10)",128,0,121,0
  33               		.stabs	"uint8_t:t(5,2)=(0,11)",128,0,122,0
  34               		.stabs	"int16_t:t(5,3)=(0,1)",128,0,123,0
  35               		.stabs	"uint16_t:t(5,4)=(0,4)",128,0,124,0
  36               		.stabs	"int32_t:t(5,5)=(0,3)",128,0,125,0
  37               		.stabs	"uint32_t:t(5,6)=(0,5)",128,0,126,0
  38               		.stabs	"int64_t:t(5,7)=(0,6)",128,0,128,0
  39               		.stabs	"uint64_t:t(5,8)=(0,7)",128,0,129,0
  40               		.stabs	"intptr_t:t(5,9)=(5,3)",128,0,142,0
  41               		.stabs	"uintptr_t:t(5,10)=(5,4)",128,0,147,0
  42               		.stabs	"int_least8_t:t(5,11)=(5,1)",128,0,159,0
  43               		.stabs	"uint_least8_t:t(5,12)=(5,2)",128,0,164,0
  44               		.stabs	"int_least16_t:t(5,13)=(5,3)",128,0,169,0
  45               		.stabs	"uint_least16_t:t(5,14)=(5,4)",128,0,174,0
  46               		.stabs	"int_least32_t:t(5,15)=(5,5)",128,0,179,0
  47               		.stabs	"uint_least32_t:t(5,16)=(5,6)",128,0,184,0
  48               		.stabs	"int_least64_t:t(5,17)=(5,7)",128,0,192,0
  49               		.stabs	"uint_least64_t:t(5,18)=(5,8)",128,0,199,0
  50               		.stabs	"int_fast8_t:t(5,19)=(5,1)",128,0,213,0
  51               		.stabs	"uint_fast8_t:t(5,20)=(5,2)",128,0,218,0
  52               		.stabs	"int_fast16_t:t(5,21)=(5,3)",128,0,223,0
  53               		.stabs	"uint_fast16_t:t(5,22)=(5,4)",128,0,228,0
  54               		.stabs	"int_fast32_t:t(5,23)=(5,5)",128,0,233,0
  55               		.stabs	"uint_fast32_t:t(5,24)=(5,6)",128,0,238,0
  56               		.stabs	"int_fast64_t:t(5,25)=(5,7)",128,0,246,0
  57               		.stabs	"uint_fast64_t:t(5,26)=(5,8)",128,0,253,0
GAS LISTING /tmp/ccP3TZct.s 			page 2


  58               		.stabs	"intmax_t:t(5,27)=(5,7)",128,0,273,0
  59               		.stabs	"uintmax_t:t(5,28)=(5,8)",128,0,278,0
  60               		.stabn	162,0,0,0
  61               		.stabn	162,0,0,0
  62               		.stabs	"int_farptr_t:t(3,1)=(5,5)",128,0,77,0
  63               		.stabs	"uint_farptr_t:t(3,2)=(5,6)",128,0,81,0
  64               		.stabn	162,0,0,0
  65               		.stabn	162,0,0,0
  66               		.stabs	"/usr/lib/gcc/avr/4.7.0/../../../avr/include/avr/fuse.h",130,0,0,0
  67               		.stabs	"__fuse_t:t(6,1)=(6,2)=s3low:(0,11),0,8;high:(0,11),8,8;extended:(0,11),16,8;;",128,0,244,0
  68               		.stabn	162,0,0,0
  69               		.stabn	162,0,0,0
  70               		.stabs	"/usr/lib/gcc/avr/4.7.0/../../../avr/include/stdio.h",130,0,0,0
  71               		.stabs	"/usr/lib/gcc/avr/4.7.0/include/stdarg.h",130,0,0,0
  72               		.stabs	"__gnuc_va_list:t(8,1)=(8,2)=*(0,15)",128,0,40,0
  73               		.stabs	"va_list:t(8,3)=(8,1)",128,0,102,0
  74               		.stabn	162,0,0,0
  75               		.stabs	"/usr/lib/gcc/avr/4.7.0/include/stddef.h",130,0,0,0
  76               		.stabs	"size_t:t(9,1)=(0,4)",128,0,213,0
  77               		.stabn	162,0,0,0
  78               		.stabs	"__file:T(7,1)=s14buf:(7,2)=*(0,2),0,16;unget:(0,11),16,8;flags:(5,2),24,8;size:(0,1),32,16
  79               		.stabn	162,0,0,0
  80               		.stabs	"/usr/lib/gcc/avr/4.7.0/../../../avr/include/avr/power.h",130,0,0,0
  81               		.stabs	" :T(10,1)=@s8;eclock_div_1:0,clock_div_2:1,clock_div_4:2,clock_div_8:3,clock_div_16:4,cloc
  82               		.stabs	"clock_div_t:t(10,2)=(10,1)",128,0,1478,0
  83               		.stabn	162,0,0,0
  84               		.stabs	" :T(0,16)=@s8;eBOUNCER:0,SMILEY:1,SINE:2,TREE:3,SINECIRCLE:4,;",128,0,0,0
  85               		.stabs	"erase_screen:F(0,15)",36,0,231,erase_screen
  86               		.stabs	"val:P(5,4)",64,0,231,24
  87               	.global	erase_screen
  88               		.type	erase_screen, @function
  89               	erase_screen:
  90               		.stabd	46,0,0
   1:main.c        **** /*
   2:main.c        **** Author : Jonathan Whitten
   3:main.c        **** Date : 24 AUG 2012
   4:main.c        **** Title : Motor Driver
   5:main.c        **** Description : The motor driver program executes a simple up-down linear actuator, which should neve
   6:main.c        **** 
   7:main.c        **** */
   8:main.c        **** #include <avr/io.h>
   9:main.c        **** #include <avr/sleep.h>
  10:main.c        **** #include <stdio.h>
  11:main.c        **** #include <avr/power.h>
  12:main.c        **** #include <avr/interrupt.h>
  13:main.c        **** 
  14:main.c        **** #define F_CPU 1000000
  15:main.c        **** #include <util/delay.h>
  16:main.c        **** 
  17:main.c        **** #define TIMER_MAX_VALUE 65535
  18:main.c        **** #define BS(bitnum) (1<<bitnum)
  19:main.c        **** #define NOT(val) (val^0xFF)
  20:main.c        **** 
  21:main.c        **** #define data 0
  22:main.c        **** #define shift 1
  23:main.c        **** #define latch 2
  24:main.c        **** #define enable1 3
GAS LISTING /tmp/ccP3TZct.s 			page 3


  25:main.c        **** #define enable2 4
  26:main.c        **** #define reset 5
  27:main.c        **** 
  28:main.c        **** enum{
  29:main.c        ****     BOUNCER = 0,
  30:main.c        ****     SMILEY,
  31:main.c        ****     SINE,
  32:main.c        ****     TREE,
  33:main.c        ****     SINECIRCLE
  34:main.c        **** };
  35:main.c        **** 
  36:main.c        **** //Universal variables
  37:main.c        **** uint8_t state;
  38:main.c        **** uint16_t statetimer;
  39:main.c        **** uint16_t matrix[8][8];
  40:main.c        **** uint8_t inttimer;
  41:main.c        **** uint16_t maxtimer;
  42:main.c        **** uint16_t delay;
  43:main.c        **** 
  44:main.c        **** //Bouncer variables
  45:main.c        **** uint8_t posx;
  46:main.c        **** uint8_t posy;
  47:main.c        **** uint8_t dirx;
  48:main.c        **** uint8_t diry;
  49:main.c        **** uint16_t wallbrightness;
  50:main.c        **** 
  51:main.c        **** //sinecircle variables
  52:main.c        **** uint8_t counter;
  53:main.c        **** 
  54:main.c        **** //tree variables
  55:main.c        **** uint8_t apples[5];
  56:main.c        **** 
  57:main.c        **** //Smileyface map
  58:main.c        **** uint8_t smileymap[8] = {
  59:main.c        ****     0b00111100,
  60:main.c        ****     0b01000010,
  61:main.c        ****     0b10100101,
  62:main.c        ****     0b10000001,
  63:main.c        ****     0b10100101,
  64:main.c        ****     0b10011001,
  65:main.c        ****     0b01000010,
  66:main.c        ****     0b00111100
  67:main.c        **** };
  68:main.c        **** 
  69:main.c        **** //Sinemap
  70:main.c        **** uint32_t sinemap[8] = {
  71:main.c        ****     0b1111000000000000000000000000,
  72:main.c        ****     0b0000110000000000000000000011,
  73:main.c        ****     0b0000001100000000000000001100,
  74:main.c        ****     0b0000000010000000000000010000,
  75:main.c        ****     0b0000000001000000000000100000,
  76:main.c        ****     0b0000000000110000000011000000,
  77:main.c        ****     0b0000000000001100001100000000,
  78:main.c        ****     0b0000000000000011110000000000
  79:main.c        **** };
  80:main.c        **** 
  81:main.c        **** 
GAS LISTING /tmp/ccP3TZct.s 			page 4


  82:main.c        **** uint8_t sinecirclemap[11][8] = {
  83:main.c        **** {
  84:main.c        ****     0b00000000,
  85:main.c        ****     0b00000000,
  86:main.c        ****     0b00000000,
  87:main.c        ****     0b00000000,
  88:main.c        ****     0b00000000,
  89:main.c        ****     0b00000000,
  90:main.c        ****     0b00000000,
  91:main.c        ****     0b00000000
  92:main.c        **** },
  93:main.c        **** {
  94:main.c        ****     0b00000000,
  95:main.c        ****     0b00000000,
  96:main.c        ****     0b00000000,
  97:main.c        ****     0b00000000,
  98:main.c        ****     0b00000000,
  99:main.c        ****     0b00000000,
 100:main.c        ****     0b00000000,
 101:main.c        ****     0b00000000
 102:main.c        **** },
 103:main.c        **** {
 104:main.c        ****     0b00000000,
 105:main.c        ****     0b00000000,
 106:main.c        ****     0b00000000,
 107:main.c        ****     0b00000000,
 108:main.c        ****     0b00000000,
 109:main.c        ****     0b00000000,
 110:main.c        ****     0b00000000,
 111:main.c        ****     0b00000000
 112:main.c        **** },
 113:main.c        **** {
 114:main.c        ****     0b00000000,
 115:main.c        ****     0b00000000,
 116:main.c        ****     0b00000000,
 117:main.c        ****     0b00010000,
 118:main.c        ****     0b00000000,
 119:main.c        ****     0b00000000,
 120:main.c        ****     0b00000000,
 121:main.c        ****     0b00000000
 122:main.c        **** 
 123:main.c        **** },
 124:main.c        **** {
 125:main.c        ****     0b00000000,
 126:main.c        ****     0b00000000,
 127:main.c        ****     0b00000000,
 128:main.c        ****     0b00011000,
 129:main.c        ****     0b00011000,
 130:main.c        ****     0b00000000,
 131:main.c        ****     0b00000000,
 132:main.c        ****     0b00000000
 133:main.c        **** },
 134:main.c        **** {
 135:main.c        ****     0b00000000,
 136:main.c        ****     0b00000000,
 137:main.c        ****     0b00011000,
 138:main.c        ****     0b00100100,
GAS LISTING /tmp/ccP3TZct.s 			page 5


 139:main.c        ****     0b00100100,
 140:main.c        ****     0b00011000,
 141:main.c        ****     0b00000000,
 142:main.c        ****     0b00000000
 143:main.c        **** },
 144:main.c        **** {
 145:main.c        ****     0b00000000,
 146:main.c        ****     0b00100100,
 147:main.c        ****     0b01100110,
 148:main.c        ****     0b00000000,
 149:main.c        ****     0b00000000,
 150:main.c        ****     0b01100110,
 151:main.c        ****     0b00100100,
 152:main.c        ****     0b00000000
 153:main.c        **** },
 154:main.c        **** {
 155:main.c        ****     0b00000000,
 156:main.c        ****     0b00011000,
 157:main.c        ****     0b00000000,
 158:main.c        ****     0b01000010,
 159:main.c        ****     0b01000010,
 160:main.c        ****     0b00000000,
 161:main.c        ****     0b00011000,
 162:main.c        ****     0b00000000
 163:main.c        **** },
 164:main.c        **** {
 165:main.c        ****     0b00100100,
 166:main.c        ****     0b01000010,
 167:main.c        ****     0b10000001,
 168:main.c        ****     0b00000000,
 169:main.c        ****     0b00000000,
 170:main.c        ****     0b10000001,
 171:main.c        ****     0b01000010,
 172:main.c        ****     0b00100100
 173:main.c        **** },
 174:main.c        **** {
 175:main.c        ****     0b11000011,
 176:main.c        ****     0b10000001,
 177:main.c        ****     0b00000000,
 178:main.c        ****     0b00000000,
 179:main.c        ****     0b00000000,
 180:main.c        ****     0b00000000,
 181:main.c        ****     0b10000001,
 182:main.c        ****     0b11000011
 183:main.c        **** },
 184:main.c        **** {
 185:main.c        ****     0b00011000,
 186:main.c        ****     0b00000000,
 187:main.c        ****     0b00000000,
 188:main.c        ****     0b10000001,
 189:main.c        ****     0b10000001,
 190:main.c        ****     0b00000000,
 191:main.c        ****     0b00000000,
 192:main.c        ****     0b00011000
 193:main.c        **** }};
 194:main.c        **** 
 195:main.c        **** uint8_t treemap[3][8] = {
GAS LISTING /tmp/ccP3TZct.s 			page 6


 196:main.c        **** //0 greenmap
 197:main.c        **** {
 198:main.c        ****     0b00111000,
 199:main.c        ****     0b00111110,
 200:main.c        ****     0b01111111,
 201:main.c        ****     0b11111111,
 202:main.c        ****     0b01111110,
 203:main.c        ****     0b00000000,
 204:main.c        ****     0b00000000,
 205:main.c        ****     0b00000000
 206:main.c        **** },
 207:main.c        **** //1 brownmap
 208:main.c        **** {
 209:main.c        ****     0b00000000,
 210:main.c        ****     0b00000000,
 211:main.c        ****     0b00000000,
 212:main.c        ****     0b00000000,
 213:main.c        ****     0b00000000,
 214:main.c        ****     0b00011000,
 215:main.c        ****     0b00011000,
 216:main.c        ****     0b00111100
 217:main.c        **** },
 218:main.c        **** //2 applemap (static)
 219:main.c        **** {
 220:main.c        ****     0b00000000,
 221:main.c        ****     0b00001000,
 222:main.c        ****     0b00100010,
 223:main.c        ****     0b01000000,
 224:main.c        ****     0b00000000,
 225:main.c        ****     0b00000000,
 226:main.c        ****     0b00000000,
 227:main.c        ****     0b00000000
 228:main.c        **** }
 229:main.c        **** };
 230:main.c        **** 
 231:main.c        **** void erase_screen(uint16_t val)
 232:main.c        **** {
  91               		.stabn	68,0,232,.LM0-.LFBB1
  92               	.LM0:
  93               	.LFBB1:
  94               	/* prologue: function */
  95               	/* frame size = 0 */
  96               	/* stack size = 0 */
  97               	.L__stack_usage = 0
  98 0000 E0E0      		ldi r30,lo8(matrix)
  99 0002 F0E0      		ldi r31,hi8(matrix)
 100               	.L2:
 233:main.c        ****   int i=0,j =0;
 234:main.c        ****   for(i=0;i<8;i++)
 235:main.c        ****   {
 236:main.c        ****     for(j=0;j<8;j++)
 237:main.c        ****     {
 238:main.c        ****       matrix[i][j] = val;
 101               		.stabn	68,0,238,.LM1-.LFBB1
 102               	.LM1:
 103 0004 9183      		std Z+1,r25
 104 0006 8083      		st Z,r24
GAS LISTING /tmp/ccP3TZct.s 			page 7


 105 0008 9383      		std Z+3,r25
 106 000a 8283      		std Z+2,r24
 107 000c 9583      		std Z+5,r25
 108 000e 8483      		std Z+4,r24
 109 0010 9783      		std Z+7,r25
 110 0012 8683      		std Z+6,r24
 111 0014 9187      		std Z+9,r25
 112 0016 8087      		std Z+8,r24
 113 0018 9387      		std Z+11,r25
 114 001a 8287      		std Z+10,r24
 115 001c 9587      		std Z+13,r25
 116 001e 8487      		std Z+12,r24
 117 0020 9787      		std Z+15,r25
 118 0022 8687      		std Z+14,r24
 119 0024 7096      		adiw r30,16
 234:main.c        ****   for(i=0;i<8;i++)
 120               		.stabn	68,0,234,.LM2-.LFBB1
 121               	.LM2:
 122 0026 20E0      		ldi r18,hi8(matrix+128)
 123 0028 E030      		cpi r30,lo8(matrix+128)
 124 002a F207      		cpc r31,r18
 125 002c 01F4      		brne .L2
 126               	/* epilogue start */
 239:main.c        ****     }
 240:main.c        ****   }
 241:main.c        **** }//end erase screen
 127               		.stabn	68,0,241,.LM3-.LFBB1
 128               	.LM3:
 129 002e 0895      		ret
 130               		.size	erase_screen, .-erase_screen
 131               	.Lscope1:
 132               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 133               		.stabd	78,0,0
 134               		.stabs	"copy_image:F(0,15)",36,0,243,copy_image
 135               		.stabs	"color:P(5,4)",64,0,243,22
 136               	.global	copy_image
 137               		.type	copy_image, @function
 138               	copy_image:
 139               		.stabd	46,0,0
 242:main.c        **** 
 243:main.c        **** void copy_image(uint8_t img[8], uint16_t color)
 244:main.c        **** {
 140               		.stabn	68,0,244,.LM4-.LFBB2
 141               	.LM4:
 142               	.LFBB2:
 143 0030 EF92      		push r14
 144 0032 FF92      		push r15
 145 0034 0F93      		push r16
 146 0036 1F93      		push r17
 147 0038 CF93      		push r28
 148 003a DF93      		push r29
 149               	/* prologue: function */
 150               	/* frame size = 0 */
 151               	/* stack size = 6 */
 152               	.L__stack_usage = 6
 153 003c A0E0      		ldi r26,lo8(matrix)
 154 003e B0E0      		ldi r27,hi8(matrix)
GAS LISTING /tmp/ccP3TZct.s 			page 8


 245:main.c        ****     uint8_t i,j;
 246:main.c        ****     for(i=0;i<8;i++)
 247:main.c        ****         for(j=0;j<8;j++)
 248:main.c        ****         {
 249:main.c        ****             if( ((img[j]>>i)&0x1) == 0x1)
 155               		.stabn	68,0,249,.LM5-.LFBB2
 156               	.LM5:
 157 0040 40E0      		ldi r20,0
 158 0042 50E0      		ldi r21,0
 159 0044 EE24      		clr r14
 160 0046 E394      		inc r14
 161 0048 F12C      		mov r15,__zero_reg__
 162 004a 00C0      		rjmp .L5
 163               	.L7:
 164 004c C191      		ld r28,Z+
 165 004e D0E0      		ldi r29,0
 166 0050 C023      		and r28,r16
 167 0052 D123      		and r29,r17
 168 0054 CD2B      		or r28,r29
 169 0056 01F0      		breq .L6
 243:main.c        **** void copy_image(uint8_t img[8], uint16_t color)
 170               		.stabn	68,0,243,.LM6-.LFBB2
 171               	.LM6:
 172 0058 ED01      		movw r28,r26
 173 005a C20F      		add r28,r18
 174 005c D31F      		adc r29,r19
 250:main.c        ****                 matrix[j][i] = color;
 175               		.stabn	68,0,250,.LM7-.LFBB2
 176               	.LM7:
 177 005e 7983      		std Y+1,r23
 178 0060 6883      		st Y,r22
 179               	.L6:
 180 0062 205F      		subi r18,-16
 181 0064 3F4F      		sbci r19,-1
 247:main.c        ****         for(j=0;j<8;j++)
 182               		.stabn	68,0,247,.LM8-.LFBB2
 183               	.LM8:
 184 0066 2038      		cpi r18,-128
 185 0068 3105      		cpc r19,__zero_reg__
 186 006a 01F4      		brne .L7
 187 006c 4F5F      		subi r20,-1
 188 006e 5F4F      		sbci r21,-1
 189 0070 1296      		adiw r26,2
 246:main.c        ****     for(i=0;i<8;i++)
 190               		.stabn	68,0,246,.LM9-.LFBB2
 191               	.LM9:
 192 0072 4830      		cpi r20,8
 193 0074 5105      		cpc r21,__zero_reg__
 194 0076 01F0      		breq .L4
 195               	.L5:
 196 0078 8701      		movw r16,r14
 197 007a 042E      		mov r0,r20
 198 007c 00C0      		rjmp 2f
 199               		1:
 200 007e 000F      		lsl r16
 201 0080 111F      		rol r17
 202               		2:
GAS LISTING /tmp/ccP3TZct.s 			page 9


 203 0082 0A94      		dec r0
 204 0084 02F4      		brpl 1b
 205 0086 FC01      		movw r30,r24
 249:main.c        ****             if( ((img[j]>>i)&0x1) == 0x1)
 206               		.stabn	68,0,249,.LM10-.LFBB2
 207               	.LM10:
 208 0088 20E0      		ldi r18,0
 209 008a 30E0      		ldi r19,0
 210 008c 00C0      		rjmp .L7
 211               	.L4:
 212               	/* epilogue start */
 251:main.c        ****         }
 252:main.c        **** }
 213               		.stabn	68,0,252,.LM11-.LFBB2
 214               	.LM11:
 215 008e DF91      		pop r29
 216 0090 CF91      		pop r28
 217 0092 1F91      		pop r17
 218 0094 0F91      		pop r16
 219 0096 FF90      		pop r15
 220 0098 EF90      		pop r14
 221 009a 0895      		ret
 222               		.size	copy_image, .-copy_image
 223               	.Lscope2:
 224               		.stabs	"",36,0,0,.Lscope2-.LFBB2
 225               		.stabd	78,0,0
 226               		.stabs	"draw_circle:F(0,15)",36,0,254,draw_circle
 227               		.stabs	"radius:P(5,2)",64,0,254,24
 228               		.stabs	"color:P(5,4)",64,0,254,16
 229               	.global	draw_circle
 230               		.type	draw_circle, @function
 231               	draw_circle:
 232               		.stabd	46,0,0
 253:main.c        **** 
 254:main.c        **** void draw_circle(uint8_t radius, uint16_t color)
 255:main.c        **** {
 233               		.stabn	68,0,255,.LM12-.LFBB3
 234               	.LM12:
 235               	.LFBB3:
 236 009c CF92      		push r12
 237 009e DF92      		push r13
 238 00a0 EF92      		push r14
 239 00a2 FF92      		push r15
 240 00a4 0F93      		push r16
 241 00a6 1F93      		push r17
 242 00a8 CF93      		push r28
 243 00aa DF93      		push r29
 244               	/* prologue: function */
 245               	/* frame size = 0 */
 246               	/* stack size = 8 */
 247               	.L__stack_usage = 8
 248 00ac 8B01      		movw r16,r22
 249               		.stabn	68,0,255,.LM13-.LFBB3
 250               	.LM13:
 251 00ae C0E0      		ldi r28,0
 252 00b0 D0E0      		ldi r29,0
 254:main.c        **** void draw_circle(uint8_t radius, uint16_t color)
GAS LISTING /tmp/ccP3TZct.s 			page 10


 253               		.stabn	68,0,254,.LM14-.LFBB3
 254               	.LM14:
 255 00b2 C82E      		mov r12,r24
 256 00b4 D12C      		mov r13,__zero_reg__
 256:main.c        ****     uint8_t i;
 257:main.c        ****     for(i=0;i<4;i++)
 258:main.c        ****     {
 259:main.c        ****         //copy_image(sinecirclemap[ (i+radius)%11 ], colors[i]); 
 260:main.c        ****         copy_image(sinecirclemap[ (i+radius)%11 ], color-i*0x3333); 
 257               		.stabn	68,0,260,.LM15-.LFBB3
 258               	.LM15:
 259 00b6 4BE0      		ldi r20,lo8(11)
 260 00b8 E42E      		mov r14,r20
 261 00ba F12C      		mov r15,__zero_reg__
 262               	.L14:
 254:main.c        **** void draw_circle(uint8_t radius, uint16_t color)
 263               		.stabn	68,0,254,.LM16-.LFBB3
 264               	.LM16:
 265 00bc CE01      		movw r24,r28
 266 00be 8C0D      		add r24,r12
 267 00c0 9D1D      		adc r25,r13
 268               		.stabn	68,0,260,.LM17-.LFBB3
 269               	.LM17:
 270 00c2 B701      		movw r22,r14
 271 00c4 00D0      		rcall __divmodhi4
 272 00c6 33E0      		ldi r19,3
 273               		1:
 274 00c8 880F      		lsl r24
 275 00ca 991F      		rol r25
 276 00cc 3A95      		dec r19
 277 00ce 01F4      		brne 1b
 278 00d0 B801      		movw r22,r16
 279 00d2 8050      		subi r24,lo8(-(sinecirclemap))
 280 00d4 9040      		sbci r25,hi8(-(sinecirclemap))
 281 00d6 00D0      		rcall copy_image
 282 00d8 2196      		adiw r28,1
 283 00da 0353      		subi r16,51
 284 00dc 1343      		sbci r17,51
 257:main.c        ****     for(i=0;i<4;i++)
 285               		.stabn	68,0,257,.LM18-.LFBB3
 286               	.LM18:
 287 00de C430      		cpi r28,4
 288 00e0 D105      		cpc r29,__zero_reg__
 289 00e2 01F4      		brne .L14
 290               	/* epilogue start */
 261:main.c        ****     }
 262:main.c        **** }
 291               		.stabn	68,0,262,.LM19-.LFBB3
 292               	.LM19:
 293 00e4 DF91      		pop r29
 294 00e6 CF91      		pop r28
 295 00e8 1F91      		pop r17
 296 00ea 0F91      		pop r16
 297 00ec FF90      		pop r15
 298 00ee EF90      		pop r14
 299 00f0 DF90      		pop r13
 300 00f2 CF90      		pop r12
GAS LISTING /tmp/ccP3TZct.s 			page 11


 301 00f4 0895      		ret
 302               		.size	draw_circle, .-draw_circle
 303               	.Lscope3:
 304               		.stabs	"",36,0,0,.Lscope3-.LFBB3
 305               		.stabd	78,0,0
 306               		.stabs	"draw_outline:F(0,15)",36,0,264,draw_outline
 307               	.global	draw_outline
 308               		.type	draw_outline, @function
 309               	draw_outline:
 310               		.stabd	46,0,0
 263:main.c        **** 
 264:main.c        **** void draw_outline()
 265:main.c        **** {
 311               		.stabn	68,0,265,.LM20-.LFBB4
 312               	.LM20:
 313               	.LFBB4:
 314               	/* prologue: function */
 315               	/* frame size = 0 */
 316               	/* stack size = 0 */
 317               	.L__stack_usage = 0
 266:main.c        ****     int i,j;
 267:main.c        ****     for(i=0;i<8;i++)
 268:main.c        ****     {
 269:main.c        ****       for(j=0;j<8;j++)
 270:main.c        ****       {
 271:main.c        ****         if(i==7 || i==0 || j==7 || j==0)
 272:main.c        ****           matrix[j][i] = wallbrightness;
 318               		.stabn	68,0,272,.LM21-.LFBB4
 319               	.LM21:
 320 00f6 E091 0000 		lds r30,wallbrightness
 321 00fa F091 0000 		lds r31,wallbrightness+1
 322 00fe 60E0      		ldi r22,lo8(matrix)
 323 0100 70E0      		ldi r23,hi8(matrix)
 267:main.c        ****     for(i=0;i<8;i++)
 324               		.stabn	68,0,267,.LM22-.LFBB4
 325               	.LM22:
 326 0102 20E0      		ldi r18,0
 327 0104 30E0      		ldi r19,0
 328 0106 00C0      		rjmp .L17
 329               	.L20:
 271:main.c        ****         if(i==7 || i==0 || j==7 || j==0)
 330               		.stabn	68,0,271,.LM23-.LFBB4
 331               	.LM23:
 332 0108 2730      		cpi r18,7
 333 010a 3105      		cpc r19,__zero_reg__
 334 010c 01F0      		breq .L18
 271:main.c        ****         if(i==7 || i==0 || j==7 || j==0)
 335               		.stabn	68,0,271,.LM24-.LFBB4
 336               	.LM24:
 337 010e 2115      		cp r18,__zero_reg__
 338 0110 3105      		cpc r19,__zero_reg__
 339 0112 01F0      		breq .L18
 340 0114 8730      		cpi r24,7
 341 0116 9105      		cpc r25,__zero_reg__
 342 0118 01F0      		breq .L18
 343 011a 0097      		sbiw r24,0
 344 011c 01F4      		brne .L19
GAS LISTING /tmp/ccP3TZct.s 			page 12


 345               	.L18:
 264:main.c        **** void draw_outline()
 346               		.stabn	68,0,264,.LM25-.LFBB4
 347               	.LM25:
 348 011e DB01      		movw r26,r22
 349 0120 A40F      		add r26,r20
 350 0122 B51F      		adc r27,r21
 351               		.stabn	68,0,272,.LM26-.LFBB4
 352               	.LM26:
 353 0124 ED93      		st X+,r30
 354 0126 FC93      		st X,r31
 355               	.L19:
 269:main.c        ****       for(j=0;j<8;j++)
 356               		.stabn	68,0,269,.LM27-.LFBB4
 357               	.LM27:
 358 0128 0196      		adiw r24,1
 359 012a 405F      		subi r20,-16
 360 012c 5F4F      		sbci r21,-1
 361 012e 8830      		cpi r24,8
 362 0130 9105      		cpc r25,__zero_reg__
 363 0132 01F4      		brne .L20
 267:main.c        ****     for(i=0;i<8;i++)
 364               		.stabn	68,0,267,.LM28-.LFBB4
 365               	.LM28:
 366 0134 2F5F      		subi r18,-1
 367 0136 3F4F      		sbci r19,-1
 368 0138 6E5F      		subi r22,-2
 369 013a 7F4F      		sbci r23,-1
 370 013c 2830      		cpi r18,8
 371 013e 3105      		cpc r19,__zero_reg__
 372 0140 01F0      		breq .L16
 373               	.L17:
 265:main.c        **** {
 374               		.stabn	68,0,265,.LM29-.LFBB4
 375               	.LM29:
 376 0142 40E0      		ldi r20,0
 377 0144 50E0      		ldi r21,0
 378 0146 80E0      		ldi r24,0
 379 0148 90E0      		ldi r25,0
 380 014a 00C0      		rjmp .L20
 381               	.L16:
 382 014c 0895      		ret
 383               		.size	draw_outline, .-draw_outline
 384               		.stabs	"i:r(0,1)",64,0,266,18
 385               		.stabs	"j:r(0,1)",64,0,266,24
 386               		.stabn	192,0,0,.LFBB4-.LFBB4
 387               		.stabn	224,0,0,.Lscope4-.LFBB4
 388               	.Lscope4:
 389               		.stabs	"",36,0,0,.Lscope4-.LFBB4
 390               		.stabd	78,0,0
 391               		.stabs	"update_sinecircle:F(0,15)",36,0,277,update_sinecircle
 392               	.global	update_sinecircle
 393               		.type	update_sinecircle, @function
 394               	update_sinecircle:
 395               		.stabd	46,0,0
 273:main.c        ****       }
 274:main.c        ****     }
GAS LISTING /tmp/ccP3TZct.s 			page 13


 275:main.c        **** }
 276:main.c        **** 
 277:main.c        **** void update_sinecircle(){
 396               		.stabn	68,0,277,.LM30-.LFBB5
 397               	.LM30:
 398               	.LFBB5:
 399               	/* prologue: function */
 400               	/* frame size = 0 */
 401               	/* stack size = 0 */
 402               	.L__stack_usage = 0
 278:main.c        ****     if(counter==10) counter = 0;
 403               		.stabn	68,0,278,.LM31-.LFBB5
 404               	.LM31:
 405 014e 8091 0000 		lds r24,counter
 406 0152 8A30      		cpi r24,lo8(10)
 407 0154 01F4      		brne .L33
 408               		.stabn	68,0,278,.LM32-.LFBB5
 409               	.LM32:
 410 0156 1092 0000 		sts counter,__zero_reg__
 411 015a 00C0      		rjmp .L34
 412               	.L33:
 279:main.c        ****     else counter += 1; 
 413               		.stabn	68,0,279,.LM33-.LFBB5
 414               	.LM33:
 415 015c 8F5F      		subi r24,lo8(-(1))
 416 015e 8093 0000 		sts counter,r24
 417               	.L34:
 280:main.c        ****     draw_circle(counter, wallbrightness);
 418               		.stabn	68,0,280,.LM34-.LFBB5
 419               	.LM34:
 420 0162 6091 0000 		lds r22,wallbrightness
 421 0166 7091 0000 		lds r23,wallbrightness+1
 422 016a 8091 0000 		lds r24,counter
 423 016e 00C0      		rjmp draw_circle
 424               		.size	update_sinecircle, .-update_sinecircle
 425               	.Lscope5:
 426               		.stabs	"",36,0,0,.Lscope5-.LFBB5
 427               		.stabd	78,0,0
 428               		.stabs	"update_sine:F(0,15)",36,0,283,update_sine
 429               	.global	update_sine
 430               		.type	update_sine, @function
 431               	update_sine:
 432               		.stabd	46,0,0
 281:main.c        **** }//end update sinecircle
 282:main.c        **** 
 283:main.c        **** void update_sine(){    
 433               		.stabn	68,0,283,.LM35-.LFBB6
 434               	.LM35:
 435               	.LFBB6:
 436 0170 2F92      		push r2
 437 0172 3F92      		push r3
 438 0174 4F92      		push r4
 439 0176 5F92      		push r5
 440 0178 6F92      		push r6
 441 017a 7F92      		push r7
 442 017c 8F92      		push r8
 443 017e 9F92      		push r9
GAS LISTING /tmp/ccP3TZct.s 			page 14


 444 0180 AF92      		push r10
 445 0182 BF92      		push r11
 446 0184 CF92      		push r12
 447 0186 DF92      		push r13
 448 0188 EF92      		push r14
 449 018a FF92      		push r15
 450 018c 0F93      		push r16
 451 018e 1F93      		push r17
 452 0190 CF93      		push r28
 453 0192 DF93      		push r29
 454               	/* prologue: function */
 455               	/* frame size = 0 */
 456               	/* stack size = 18 */
 457               	.L__stack_usage = 18
 284:main.c        ****     uint8_t i,j,mask;
 285:main.c        ****     for(i=0;i<8;i++)
 286:main.c        ****         for(j=0;j<8;j++)
 287:main.c        ****         {
 288:main.c        ****             mask = (counter+i)%28;
 458               		.stabn	68,0,288,.LM36-.LFBB6
 459               	.LM36:
 460 0194 A090 0000 		lds r10,counter
 461 0198 B12C      		mov r11,__zero_reg__
 289:main.c        ****             if( ((sinemap[j]>>(mask))&0x01) == 0x01)
 290:main.c        ****                 matrix[j][i] = wallbrightness;
 462               		.stabn	68,0,290,.LM37-.LFBB6
 463               	.LM37:
 464 019a 4090 0000 		lds r4,wallbrightness
 465 019e 5090 0000 		lds r5,wallbrightness+1
 466 01a2 C0E0      		ldi r28,lo8(matrix)
 467 01a4 D0E0      		ldi r29,hi8(matrix)
 468 01a6 212C      		mov r2,__zero_reg__
 469 01a8 312C      		mov r3,__zero_reg__
 283:main.c        **** void update_sine(){    
 470               		.stabn	68,0,283,.LM38-.LFBB6
 471               	.LM38:
 472 01aa 3501      		movw r6,r10
 288:main.c        ****             mask = (counter+i)%28;
 473               		.stabn	68,0,288,.LM39-.LFBB6
 474               	.LM39:
 475 01ac 5CE1      		ldi r21,lo8(28)
 476 01ae 852E      		mov r8,r21
 477 01b0 912C      		mov r9,__zero_reg__
 478 01b2 01E0      		ldi r16,lo8(1)
 479 01b4 10E0      		ldi r17,0
 480 01b6 20E0      		ldi r18,0
 481 01b8 30E0      		ldi r19,0
 482 01ba 00C0      		rjmp .L36
 483               	.L38:
 289:main.c        ****             if( ((sinemap[j]>>(mask))&0x01) == 0x01)
 484               		.stabn	68,0,289,.LM40-.LFBB6
 485               	.LM40:
 486 01bc FC01      		movw r30,r24
 487 01be 4191      		ld r20,Z+
 488 01c0 5191      		ld r21,Z+
 489 01c2 6191      		ld r22,Z+
 490 01c4 7191      		ld r23,Z+
GAS LISTING /tmp/ccP3TZct.s 			page 15


 491 01c6 CF01      		movw r24,r30
 492 01c8 4C21      		and r20,r12
 493 01ca 5D21      		and r21,r13
 494 01cc 6E21      		and r22,r14
 495 01ce 7F21      		and r23,r15
 496 01d0 452B      		or r20,r21
 497 01d2 462B      		or r20,r22
 498 01d4 472B      		or r20,r23
 499 01d6 01F0      		breq .L37
 283:main.c        **** void update_sine(){    
 500               		.stabn	68,0,283,.LM41-.LFBB6
 501               	.LM41:
 502 01d8 AE01      		movw r20,r28
 503 01da 4A0F      		add r20,r26
 504 01dc 5B1F      		adc r21,r27
 505               		.stabn	68,0,290,.LM42-.LFBB6
 506               	.LM42:
 507 01de FA01      		movw r30,r20
 508 01e0 5182      		std Z+1,r5
 509 01e2 4082      		st Z,r4
 510               	.L37:
 511 01e4 5096      		adiw r26,16
 286:main.c        ****         for(j=0;j<8;j++)
 512               		.stabn	68,0,286,.LM43-.LFBB6
 513               	.LM43:
 514 01e6 A038      		cpi r26,-128
 515 01e8 B105      		cpc r27,__zero_reg__
 516 01ea 01F4      		brne .L38
 517 01ec FFEF      		ldi r31,-1
 518 01ee 2F1A      		sub r2,r31
 519 01f0 3F0A      		sbc r3,r31
 520 01f2 2296      		adiw r28,2
 285:main.c        ****     for(i=0;i<8;i++)
 521               		.stabn	68,0,285,.LM44-.LFBB6
 522               	.LM44:
 523 01f4 88E0      		ldi r24,8
 524 01f6 2816      		cp r2,r24
 525 01f8 3104      		cpc r3,__zero_reg__
 526 01fa 01F0      		breq .L39
 527               	.L36:
 283:main.c        **** void update_sine(){    
 528               		.stabn	68,0,283,.LM45-.LFBB6
 529               	.LM45:
 530 01fc C101      		movw r24,r2
 531 01fe 860D      		add r24,r6
 532 0200 971D      		adc r25,r7
 288:main.c        ****             mask = (counter+i)%28;
 533               		.stabn	68,0,288,.LM46-.LFBB6
 534               	.LM46:
 535 0202 B401      		movw r22,r8
 536 0204 00D0      		rcall __divmodhi4
 537 0206 6801      		movw r12,r16
 538 0208 7901      		movw r14,r18
 539 020a 00C0      		rjmp 2f
 540               		1:
 541 020c CC0C      		lsl r12
 542 020e DD1C      		rol r13
GAS LISTING /tmp/ccP3TZct.s 			page 16


 543 0210 EE1C      		rol r14
 544 0212 FF1C      		rol r15
 545               		2:
 546 0214 8A95      		dec r24
 547 0216 02F4      		brpl 1b
 548 0218 80E0      		ldi r24,lo8(sinemap)
 549 021a 90E0      		ldi r25,hi8(sinemap)
 550 021c A0E0      		ldi r26,0
 551 021e B0E0      		ldi r27,0
 552 0220 00C0      		rjmp .L38
 553               	.L39:
 291:main.c        ****             //if(sinemap[j][(i+sinecounter)%28] == 1)
 292:main.c        ****             //    matrix[j][i] = wallbrightness;
 293:main.c        ****         }
 294:main.c        ****     counter = (counter+1)%28;  
 554               		.stabn	68,0,294,.LM47-.LFBB6
 555               	.LM47:
 556 0222 C501      		movw r24,r10
 557 0224 0196      		adiw r24,1
 558 0226 6CE1      		ldi r22,lo8(28)
 559 0228 70E0      		ldi r23,0
 560 022a 00D0      		rcall __divmodhi4
 561 022c 8093 0000 		sts counter,r24
 562               	/* epilogue start */
 295:main.c        **** }
 563               		.stabn	68,0,295,.LM48-.LFBB6
 564               	.LM48:
 565 0230 DF91      		pop r29
 566 0232 CF91      		pop r28
 567 0234 1F91      		pop r17
 568 0236 0F91      		pop r16
 569 0238 FF90      		pop r15
 570 023a EF90      		pop r14
 571 023c DF90      		pop r13
 572 023e CF90      		pop r12
 573 0240 BF90      		pop r11
 574 0242 AF90      		pop r10
 575 0244 9F90      		pop r9
 576 0246 8F90      		pop r8
 577 0248 7F90      		pop r7
 578 024a 6F90      		pop r6
 579 024c 5F90      		pop r5
 580 024e 4F90      		pop r4
 581 0250 3F90      		pop r3
 582 0252 2F90      		pop r2
 583 0254 0895      		ret
 584               		.size	update_sine, .-update_sine
 585               	.Lscope6:
 586               		.stabs	"",36,0,0,.Lscope6-.LFBB6
 587               		.stabd	78,0,0
 588               		.stabs	"update_smiley:F(0,15)",36,0,298,update_smiley
 589               	.global	update_smiley
 590               		.type	update_smiley, @function
 591               	update_smiley:
 592               		.stabd	46,0,0
 296:main.c        **** 
 297:main.c        **** 
GAS LISTING /tmp/ccP3TZct.s 			page 17


 298:main.c        **** void update_smiley(){
 593               		.stabn	68,0,298,.LM49-.LFBB7
 594               	.LM49:
 595               	.LFBB7:
 596               	/* prologue: function */
 597               	/* frame size = 0 */
 598               	/* stack size = 0 */
 599               	.L__stack_usage = 0
 299:main.c        ****     copy_image(smileymap, wallbrightness);
 600               		.stabn	68,0,299,.LM50-.LFBB7
 601               	.LM50:
 602 0256 6091 0000 		lds r22,wallbrightness
 603 025a 7091 0000 		lds r23,wallbrightness+1
 604 025e 80E0      		ldi r24,lo8(smileymap)
 605 0260 90E0      		ldi r25,hi8(smileymap)
 606 0262 00C0      		rjmp copy_image
 607               		.size	update_smiley, .-update_smiley
 608               	.Lscope7:
 609               		.stabs	"",36,0,0,.Lscope7-.LFBB7
 610               		.stabd	78,0,0
 611               		.stabs	"update_tree:F(0,15)",36,0,302,update_tree
 612               	.global	update_tree
 613               		.type	update_tree, @function
 614               	update_tree:
 615               		.stabd	46,0,0
 300:main.c        **** }
 301:main.c        **** 
 302:main.c        **** void update_tree(){
 616               		.stabn	68,0,302,.LM51-.LFBB8
 617               	.LM51:
 618               	.LFBB8:
 619               	/* prologue: function */
 620               	/* frame size = 0 */
 621               	/* stack size = 0 */
 622               	.L__stack_usage = 0
 303:main.c        ****     copy_image(treemap, 0x00ff); //leaves
 623               		.stabn	68,0,303,.LM52-.LFBB8
 624               	.LM52:
 625 0264 6FEF      		ldi r22,lo8(-1)
 626 0266 70E0      		ldi r23,0
 627 0268 80E0      		ldi r24,lo8(treemap)
 628 026a 90E0      		ldi r25,hi8(treemap)
 629 026c 00D0      		rcall copy_image
 304:main.c        ****     copy_image(treemap[1], 0x1010); //trunk
 630               		.stabn	68,0,304,.LM53-.LFBB8
 631               	.LM53:
 632 026e 60E1      		ldi r22,lo8(16)
 633 0270 70E1      		ldi r23,lo8(16)
 634 0272 80E0      		ldi r24,lo8(treemap+8)
 635 0274 90E0      		ldi r25,hi8(treemap+8)
 636 0276 00D0      		rcall copy_image
 305:main.c        ****     //copy_image(treemap[2], 0xaa10); //bland apples
 306:main.c        ****     copy_image(treemap[2], wallbrightness);
 637               		.stabn	68,0,306,.LM54-.LFBB8
 638               	.LM54:
 639 0278 6091 0000 		lds r22,wallbrightness
 640 027c 7091 0000 		lds r23,wallbrightness+1
GAS LISTING /tmp/ccP3TZct.s 			page 18


 641 0280 80E0      		ldi r24,lo8(treemap+16)
 642 0282 90E0      		ldi r25,hi8(treemap+16)
 643 0284 00C0      		rjmp copy_image
 644               		.size	update_tree, .-update_tree
 645               	.Lscope8:
 646               		.stabs	"",36,0,0,.Lscope8-.LFBB8
 647               		.stabd	78,0,0
 648               		.stabs	"update_bouncer:F(0,15)",36,0,309,update_bouncer
 649               	.global	update_bouncer
 650               		.type	update_bouncer, @function
 651               	update_bouncer:
 652               		.stabd	46,0,0
 307:main.c        **** }
 308:main.c        **** 
 309:main.c        **** void update_bouncer(){
 653               		.stabn	68,0,309,.LM55-.LFBB9
 654               	.LM55:
 655               	.LFBB9:
 656               	/* prologue: function */
 657               	/* frame size = 0 */
 658               	/* stack size = 0 */
 659               	.L__stack_usage = 0
 310:main.c        ****     if(dirx == 1)
 660               		.stabn	68,0,310,.LM56-.LFBB9
 661               	.LM56:
 662 0286 9091 0000 		lds r25,dirx
 663 028a 8091 0000 		lds r24,posx
 664 028e 9130      		cpi r25,lo8(1)
 665 0290 01F4      		brne .L47
 311:main.c        ****       {
 312:main.c        ****         if(posx == 7)
 666               		.stabn	68,0,312,.LM57-.LFBB9
 667               	.LM57:
 668 0292 8730      		cpi r24,lo8(7)
 669 0294 01F4      		brne .L48
 313:main.c        ****         {
 314:main.c        ****           dirx = 0;
 670               		.stabn	68,0,314,.LM58-.LFBB9
 671               	.LM58:
 672 0296 1092 0000 		sts dirx,__zero_reg__
 315:main.c        ****           posx -= 2;
 673               		.stabn	68,0,315,.LM59-.LFBB9
 674               	.LM59:
 675 029a 85E0      		ldi r24,lo8(5)
 676 029c 00C0      		rjmp .L55
 677               	.L48:
 316:main.c        ****         }else posx += 1;
 678               		.stabn	68,0,316,.LM60-.LFBB9
 679               	.LM60:
 680 029e 8F5F      		subi r24,lo8(-(1))
 681 02a0 00C0      		rjmp .L55
 682               	.L47:
 317:main.c        ****       }
 318:main.c        ****       else{
 319:main.c        ****         if(posx == 0)
 683               		.stabn	68,0,319,.LM61-.LFBB9
 684               	.LM61:
GAS LISTING /tmp/ccP3TZct.s 			page 19


 685 02a2 8111      		cpse r24,__zero_reg__
 686 02a4 00C0      		rjmp .L50
 320:main.c        ****         {
 321:main.c        ****           dirx = 1;
 687               		.stabn	68,0,321,.LM62-.LFBB9
 688               	.LM62:
 689 02a6 81E0      		ldi r24,lo8(1)
 690 02a8 8093 0000 		sts dirx,r24
 322:main.c        ****           posx += 2;
 691               		.stabn	68,0,322,.LM63-.LFBB9
 692               	.LM63:
 693 02ac 82E0      		ldi r24,lo8(2)
 694 02ae 00C0      		rjmp .L55
 695               	.L50:
 323:main.c        ****         }
 324:main.c        ****         else posx -= 1;
 696               		.stabn	68,0,324,.LM64-.LFBB9
 697               	.LM64:
 698 02b0 8150      		subi r24,lo8(-(-1))
 699               	.L55:
 700 02b2 8093 0000 		sts posx,r24
 325:main.c        ****       }
 326:main.c        **** 
 327:main.c        ****       if(diry == 1)
 701               		.stabn	68,0,327,.LM65-.LFBB9
 702               	.LM65:
 703 02b6 9091 0000 		lds r25,diry
 704 02ba 8091 0000 		lds r24,posy
 705 02be 9130      		cpi r25,lo8(1)
 706 02c0 01F4      		brne .L51
 328:main.c        ****       {
 329:main.c        ****         if(posy == 7)
 707               		.stabn	68,0,329,.LM66-.LFBB9
 708               	.LM66:
 709 02c2 8730      		cpi r24,lo8(7)
 710 02c4 01F4      		brne .L52
 330:main.c        ****         {
 331:main.c        ****           diry = 0;
 711               		.stabn	68,0,331,.LM67-.LFBB9
 712               	.LM67:
 713 02c6 1092 0000 		sts diry,__zero_reg__
 332:main.c        ****           posy -= 1;
 714               		.stabn	68,0,332,.LM68-.LFBB9
 715               	.LM68:
 716 02ca 86E0      		ldi r24,lo8(6)
 717 02cc 00C0      		rjmp .L56
 718               	.L52:
 333:main.c        ****         }else posy += 1;
 719               		.stabn	68,0,333,.LM69-.LFBB9
 720               	.LM69:
 721 02ce 8F5F      		subi r24,lo8(-(1))
 722 02d0 00C0      		rjmp .L56
 723               	.L51:
 334:main.c        ****       }
 335:main.c        ****       else{
 336:main.c        ****         if(posy == 0)
 724               		.stabn	68,0,336,.LM70-.LFBB9
GAS LISTING /tmp/ccP3TZct.s 			page 20


 725               	.LM70:
 726 02d2 8111      		cpse r24,__zero_reg__
 727 02d4 00C0      		rjmp .L54
 337:main.c        ****         {
 338:main.c        ****           diry = 1;
 728               		.stabn	68,0,338,.LM71-.LFBB9
 729               	.LM71:
 730 02d6 81E0      		ldi r24,lo8(1)
 731 02d8 8093 0000 		sts diry,r24
 732 02dc 00C0      		rjmp .L56
 733               	.L54:
 339:main.c        ****           posy += 1;
 340:main.c        ****         }
 341:main.c        ****         else posy -= 1;
 734               		.stabn	68,0,341,.LM72-.LFBB9
 735               	.LM72:
 736 02de 8150      		subi r24,lo8(-(-1))
 737               	.L56:
 738 02e0 8093 0000 		sts posy,r24
 342:main.c        ****       }
 343:main.c        **** 
 344:main.c        ****       draw_outline();
 739               		.stabn	68,0,344,.LM73-.LFBB9
 740               	.LM73:
 741 02e4 00D0      		rcall draw_outline
 345:main.c        ****       matrix[posy][posx] = 0x00ff;
 742               		.stabn	68,0,345,.LM74-.LFBB9
 743               	.LM74:
 744 02e6 8091 0000 		lds r24,posx
 745 02ea E091 0000 		lds r30,posy
 746 02ee 98E0      		ldi r25,lo8(8)
 747 02f0 E99F      		mul r30,r25
 748 02f2 F001      		movw r30,r0
 749 02f4 1124      		clr __zero_reg__
 750 02f6 E80F      		add r30,r24
 751 02f8 F11D      		adc r31,__zero_reg__
 752 02fa EE0F      		lsl r30
 753 02fc FF1F      		rol r31
 754 02fe E050      		subi r30,lo8(-(matrix))
 755 0300 F040      		sbci r31,hi8(-(matrix))
 756 0302 8FEF      		ldi r24,lo8(-1)
 757 0304 90E0      		ldi r25,0
 758 0306 9183      		std Z+1,r25
 759 0308 8083      		st Z,r24
 760 030a 0895      		ret
 761               		.size	update_bouncer, .-update_bouncer
 762               	.Lscope9:
 763               		.stabs	"",36,0,0,.Lscope9-.LFBB9
 764               		.stabd	78,0,0
 765               		.stabs	"configure_sine:F(0,15)",36,0,348,configure_sine
 766               	.global	configure_sine
 767               		.type	configure_sine, @function
 768               	configure_sine:
 769               		.stabd	46,0,0
 346:main.c        **** }
 347:main.c        **** 
 348:main.c        **** void configure_sine(){
GAS LISTING /tmp/ccP3TZct.s 			page 21


 770               		.stabn	68,0,348,.LM75-.LFBB10
 771               	.LM75:
 772               	.LFBB10:
 773               	/* prologue: function */
 774               	/* frame size = 0 */
 775               	/* stack size = 0 */
 776               	.L__stack_usage = 0
 349:main.c        ****     cli();
 777               		.stabn	68,0,349,.LM76-.LFBB10
 778               	.LM76:
 779               	/* #APP */
 780               	 ;  349 "main.c" 1
 781 030c F894      		cli
 782               	 ;  0 "" 2
 350:main.c        ****     OCR1A = 0x02ff;
 783               		.stabn	68,0,350,.LM77-.LFBB10
 784               	.LM77:
 785               	/* #NOAPP */
 786 030e 8FEF      		ldi r24,lo8(-1)
 787 0310 92E0      		ldi r25,lo8(2)
 788 0312 9093 8900 		sts 136+1,r25
 789 0316 8093 8800 		sts 136,r24
 351:main.c        ****     TCNT1 = 0;
 790               		.stabn	68,0,351,.LM78-.LFBB10
 791               	.LM78:
 792 031a 1092 8500 		sts 132+1,__zero_reg__
 793 031e 1092 8400 		sts 132,__zero_reg__
 352:main.c        ****     sei();
 794               		.stabn	68,0,352,.LM79-.LFBB10
 795               	.LM79:
 796               	/* #APP */
 797               	 ;  352 "main.c" 1
 798 0322 7894      		sei
 799               	 ;  0 "" 2
 353:main.c        ****     maxtimer = 0x0200;
 800               		.stabn	68,0,353,.LM80-.LFBB10
 801               	.LM80:
 802               	/* #NOAPP */
 803 0324 80E0      		ldi r24,0
 804 0326 92E0      		ldi r25,lo8(2)
 805 0328 9093 0000 		sts maxtimer+1,r25
 806 032c 8093 0000 		sts maxtimer,r24
 807 0330 0895      		ret
 808               		.size	configure_sine, .-configure_sine
 809               	.Lscope10:
 810               		.stabs	"",36,0,0,.Lscope10-.LFBB10
 811               		.stabd	78,0,0
 812               		.stabs	"configure_sinecircle:F(0,15)",36,0,356,configure_sinecircle
 813               	.global	configure_sinecircle
 814               		.type	configure_sinecircle, @function
 815               	configure_sinecircle:
 816               		.stabd	46,0,0
 354:main.c        **** }
 355:main.c        **** 
 356:main.c        **** void configure_sinecircle(){
 817               		.stabn	68,0,356,.LM81-.LFBB11
 818               	.LM81:
GAS LISTING /tmp/ccP3TZct.s 			page 22


 819               	.LFBB11:
 820               	/* prologue: function */
 821               	/* frame size = 0 */
 822               	/* stack size = 0 */
 823               	.L__stack_usage = 0
 357:main.c        ****     cli();
 824               		.stabn	68,0,357,.LM82-.LFBB11
 825               	.LM82:
 826               	/* #APP */
 827               	 ;  357 "main.c" 1
 828 0332 F894      		cli
 829               	 ;  0 "" 2
 358:main.c        ****     OCR1A = 0x1222;
 830               		.stabn	68,0,358,.LM83-.LFBB11
 831               	.LM83:
 832               	/* #NOAPP */
 833 0334 82E2      		ldi r24,lo8(34)
 834 0336 92E1      		ldi r25,lo8(18)
 835 0338 9093 8900 		sts 136+1,r25
 836 033c 8093 8800 		sts 136,r24
 359:main.c        ****     TCNT1 = 0;
 837               		.stabn	68,0,359,.LM84-.LFBB11
 838               	.LM84:
 839 0340 1092 8500 		sts 132+1,__zero_reg__
 840 0344 1092 8400 		sts 132,__zero_reg__
 360:main.c        ****     sei();
 841               		.stabn	68,0,360,.LM85-.LFBB11
 842               	.LM85:
 843               	/* #APP */
 844               	 ;  360 "main.c" 1
 845 0348 7894      		sei
 846               	 ;  0 "" 2
 361:main.c        ****     maxtimer = 0x00ff;
 847               		.stabn	68,0,361,.LM86-.LFBB11
 848               	.LM86:
 849               	/* #NOAPP */
 850 034a 8FEF      		ldi r24,lo8(-1)
 851 034c 90E0      		ldi r25,0
 852 034e 9093 0000 		sts maxtimer+1,r25
 853 0352 8093 0000 		sts maxtimer,r24
 854 0356 0895      		ret
 855               		.size	configure_sinecircle, .-configure_sinecircle
 856               	.Lscope11:
 857               		.stabs	"",36,0,0,.Lscope11-.LFBB11
 858               		.stabd	78,0,0
 859               		.stabs	"configure_timer0:F(0,15)",36,0,364,configure_timer0
 860               	.global	configure_timer0
 861               		.type	configure_timer0, @function
 862               	configure_timer0:
 863               		.stabd	46,0,0
 362:main.c        **** }
 363:main.c        **** 
 364:main.c        **** void configure_timer0()
 365:main.c        **** {
 864               		.stabn	68,0,365,.LM87-.LFBB12
 865               	.LM87:
 866               	.LFBB12:
GAS LISTING /tmp/ccP3TZct.s 			page 23


 867               	/* prologue: function */
 868               	/* frame size = 0 */
 869               	/* stack size = 0 */
 870               	.L__stack_usage = 0
 366:main.c        ****   cli();
 871               		.stabn	68,0,366,.LM88-.LFBB12
 872               	.LM88:
 873               	/* #APP */
 874               	 ;  366 "main.c" 1
 875 0358 F894      		cli
 876               	 ;  0 "" 2
 367:main.c        ****   TCCR0A = 0;
 877               		.stabn	68,0,367,.LM89-.LFBB12
 878               	.LM89:
 879               	/* #NOAPP */
 880 035a 14BC      		out 0x24,__zero_reg__
 368:main.c        ****   TCCR0B = 0;
 881               		.stabn	68,0,368,.LM90-.LFBB12
 882               	.LM90:
 883 035c 15BC      		out 0x25,__zero_reg__
 369:main.c        ****   TIMSK0 = 0; //Clear registers
 884               		.stabn	68,0,369,.LM91-.LFBB12
 885               	.LM91:
 886 035e EEE6      		ldi r30,lo8(110)
 887 0360 F0E0      		ldi r31,0
 888 0362 1082      		st Z,__zero_reg__
 370:main.c        ****   TCNT0 = 0; //reset timer
 889               		.stabn	68,0,370,.LM92-.LFBB12
 890               	.LM92:
 891 0364 16BC      		out 0x26,__zero_reg__
 371:main.c        **** 
 372:main.c        ****   OCR0A = 0xff; // timer interrupt counter
 892               		.stabn	68,0,372,.LM93-.LFBB12
 893               	.LM93:
 894 0366 8FEF      		ldi r24,lo8(-1)
 895 0368 87BD      		out 0x27,r24
 373:main.c        ****   TIMSK0 |= BS(OCIE1A); //enable COMPA1 ISR
 896               		.stabn	68,0,373,.LM94-.LFBB12
 897               	.LM94:
 898 036a 8081      		ld r24,Z
 899 036c 8260      		ori r24,lo8(2)
 900 036e 8083      		st Z,r24
 374:main.c        ****   TCCR0B |= BS(CS02)|BS(CS00)|BS(WGM02); //1024 clk divider CTC 
 901               		.stabn	68,0,374,.LM95-.LFBB12
 902               	.LM95:
 903 0370 85B5      		in r24,0x25
 904 0372 8D60      		ori r24,lo8(13)
 905 0374 85BD      		out 0x25,r24
 375:main.c        ****   sei();
 906               		.stabn	68,0,375,.LM96-.LFBB12
 907               	.LM96:
 908               	/* #APP */
 909               	 ;  375 "main.c" 1
 910 0376 7894      		sei
 911               	 ;  0 "" 2
 912               	/* #NOAPP */
 913 0378 0895      		ret
GAS LISTING /tmp/ccP3TZct.s 			page 24


 914               		.size	configure_timer0, .-configure_timer0
 915               	.Lscope12:
 916               		.stabs	"",36,0,0,.Lscope12-.LFBB12
 917               		.stabd	78,0,0
 918               		.stabs	"configure_timer1:F(0,15)",36,0,378,configure_timer1
 919               	.global	configure_timer1
 920               		.type	configure_timer1, @function
 921               	configure_timer1:
 922               		.stabd	46,0,0
 376:main.c        **** }
 377:main.c        **** 
 378:main.c        **** void configure_timer1()
 379:main.c        **** {
 923               		.stabn	68,0,379,.LM97-.LFBB13
 924               	.LM97:
 925               	.LFBB13:
 926               	/* prologue: function */
 927               	/* frame size = 0 */
 928               	/* stack size = 0 */
 929               	.L__stack_usage = 0
 380:main.c        ****   cli();
 930               		.stabn	68,0,380,.LM98-.LFBB13
 931               	.LM98:
 932               	/* #APP */
 933               	 ;  380 "main.c" 1
 934 037a F894      		cli
 935               	 ;  0 "" 2
 381:main.c        ****   TCCR1A = 0;
 936               		.stabn	68,0,381,.LM99-.LFBB13
 937               	.LM99:
 938               	/* #NOAPP */
 939 037c 1092 8000 		sts 128,__zero_reg__
 382:main.c        ****   TCCR1B = 0;
 940               		.stabn	68,0,382,.LM100-.LFBB13
 941               	.LM100:
 942 0380 E1E8      		ldi r30,lo8(-127)
 943 0382 F0E0      		ldi r31,0
 944 0384 1082      		st Z,__zero_reg__
 383:main.c        ****   TIMSK1 = 0; //Clear registers
 945               		.stabn	68,0,383,.LM101-.LFBB13
 946               	.LM101:
 947 0386 AFE6      		ldi r26,lo8(111)
 948 0388 B0E0      		ldi r27,0
 949 038a 1C92      		st X,__zero_reg__
 384:main.c        ****   TCNT1 = 0; //reset timer
 950               		.stabn	68,0,384,.LM102-.LFBB13
 951               	.LM102:
 952 038c 1092 8500 		sts 132+1,__zero_reg__
 953 0390 1092 8400 		sts 132,__zero_reg__
 385:main.c        **** 
 386:main.c        ****   OCR1A = 0x0fff;
 954               		.stabn	68,0,386,.LM103-.LFBB13
 955               	.LM103:
 956 0394 8FEF      		ldi r24,lo8(-1)
 957 0396 9FE0      		ldi r25,lo8(15)
 958 0398 9093 8900 		sts 136+1,r25
 959 039c 8093 8800 		sts 136,r24
GAS LISTING /tmp/ccP3TZct.s 			page 25


 387:main.c        ****   TIMSK1 |= BS(OCIE1A); //enable COMPA1 ISR
 960               		.stabn	68,0,387,.LM104-.LFBB13
 961               	.LM104:
 962 03a0 8C91      		ld r24,X
 963 03a2 8260      		ori r24,lo8(2)
 964 03a4 8C93      		st X,r24
 388:main.c        ****   TCCR1B |= BS(CS12)|BS(WGM12); //256 presclaer, CTC configured
 965               		.stabn	68,0,388,.LM105-.LFBB13
 966               	.LM105:
 967 03a6 8081      		ld r24,Z
 968 03a8 8C60      		ori r24,lo8(12)
 969 03aa 8083      		st Z,r24
 389:main.c        ****   sei();
 970               		.stabn	68,0,389,.LM106-.LFBB13
 971               	.LM106:
 972               	/* #APP */
 973               	 ;  389 "main.c" 1
 974 03ac 7894      		sei
 975               	 ;  0 "" 2
 976               	/* #NOAPP */
 977 03ae 0895      		ret
 978               		.size	configure_timer1, .-configure_timer1
 979               	.Lscope13:
 980               		.stabs	"",36,0,0,.Lscope13-.LFBB13
 981               		.stabd	78,0,0
 982               		.stabs	"setup:F(0,15)",36,0,392,setup
 983               	.global	setup
 984               		.type	setup, @function
 985               	setup:
 986               		.stabd	46,0,0
 390:main.c        **** }
 391:main.c        **** 
 392:main.c        **** void setup()
 393:main.c        **** {
 987               		.stabn	68,0,393,.LM107-.LFBB14
 988               	.LM107:
 989               	.LFBB14:
 990               	/* prologue: function */
 991               	/* frame size = 0 */
 992               	/* stack size = 0 */
 993               	.L__stack_usage = 0
 394:main.c        ****     //initialize important variables
 395:main.c        ****     erase_screen(0x0000);
 994               		.stabn	68,0,395,.LM108-.LFBB14
 995               	.LM108:
 996 03b0 80E0      		ldi r24,0
 997 03b2 90E0      		ldi r25,0
 998 03b4 00D0      		rcall erase_screen
 396:main.c        ****     maxtimer = 0x00ff;
 999               		.stabn	68,0,396,.LM109-.LFBB14
 1000               	.LM109:
 1001 03b6 8FEF      		ldi r24,lo8(-1)
 1002 03b8 90E0      		ldi r25,0
 1003 03ba 9093 0000 		sts maxtimer+1,r25
 1004 03be 8093 0000 		sts maxtimer,r24
 397:main.c        ****     state = TREE;
 1005               		.stabn	68,0,397,.LM110-.LFBB14
GAS LISTING /tmp/ccP3TZct.s 			page 26


 1006               	.LM110:
 1007 03c2 83E0      		ldi r24,lo8(3)
 1008 03c4 8093 0000 		sts state,r24
 398:main.c        ****     statetimer = 0;
 1009               		.stabn	68,0,398,.LM111-.LFBB14
 1010               	.LM111:
 1011 03c8 1092 0000 		sts statetimer+1,__zero_reg__
 1012 03cc 1092 0000 		sts statetimer,__zero_reg__
 399:main.c        ****     counter = 0;
 1013               		.stabn	68,0,399,.LM112-.LFBB14
 1014               	.LM112:
 1015 03d0 1092 0000 		sts counter,__zero_reg__
 400:main.c        **** 
 401:main.c        ****     //bouncer variables
 402:main.c        ****     posx = 1;
 1016               		.stabn	68,0,402,.LM113-.LFBB14
 1017               	.LM113:
 1018 03d4 81E0      		ldi r24,lo8(1)
 1019 03d6 8093 0000 		sts posx,r24
 403:main.c        ****     posy = 0;
 1020               		.stabn	68,0,403,.LM114-.LFBB14
 1021               	.LM114:
 1022 03da 1092 0000 		sts posy,__zero_reg__
 404:main.c        ****     dirx = 0;
 1023               		.stabn	68,0,404,.LM115-.LFBB14
 1024               	.LM115:
 1025 03de 1092 0000 		sts dirx,__zero_reg__
 405:main.c        ****     diry = 0;
 1026               		.stabn	68,0,405,.LM116-.LFBB14
 1027               	.LM116:
 1028 03e2 1092 0000 		sts diry,__zero_reg__
 406:main.c        ****     wallbrightness = 0x0000;
 1029               		.stabn	68,0,406,.LM117-.LFBB14
 1030               	.LM117:
 1031 03e6 1092 0000 		sts wallbrightness+1,__zero_reg__
 1032 03ea 1092 0000 		sts wallbrightness,__zero_reg__
 407:main.c        ****     delay = 0;
 1033               		.stabn	68,0,407,.LM118-.LFBB14
 1034               	.LM118:
 1035 03ee 1092 0000 		sts delay+1,__zero_reg__
 1036 03f2 1092 0000 		sts delay,__zero_reg__
 408:main.c        **** 
 409:main.c        ****     //configure timer configuration
 410:main.c        ****     configure_timer0();
 1037               		.stabn	68,0,410,.LM119-.LFBB14
 1038               	.LM119:
 1039 03f6 00D0      		rcall configure_timer0
 411:main.c        ****     configure_timer1();
 1040               		.stabn	68,0,411,.LM120-.LFBB14
 1041               	.LM120:
 1042 03f8 00C0      		rjmp configure_timer1
 1043               		.size	setup, .-setup
 1044               	.Lscope14:
 1045               		.stabs	"",36,0,0,.Lscope14-.LFBB14
 1046               		.stabd	78,0,0
 1047               		.stabs	"__vector_14:F(0,15)",36,0,416,__vector_14
 1048               	.global	__vector_14
GAS LISTING /tmp/ccP3TZct.s 			page 27


 1049               		.type	__vector_14, @function
 1050               	__vector_14:
 1051               		.stabd	46,0,0
 412:main.c        **** }
 413:main.c        **** 
 414:main.c        **** 
 415:main.c        **** //Compare on match interrupt
 416:main.c        **** ISR(TIMER0_COMPA_vect)
 417:main.c        **** {
 1052               		.stabn	68,0,417,.LM121-.LFBB15
 1053               	.LM121:
 1054               	.LFBB15:
 1055 03fa 1F92      		push r1
 1056 03fc 0F92      		push r0
 1057 03fe 0FB6      		in r0,__SREG__
 1058 0400 0F92      		push r0
 1059 0402 1124      		clr __zero_reg__
 1060 0404 8F93      		push r24
 1061 0406 9F93      		push r25
 1062               	/* prologue: Signal */
 1063               	/* frame size = 0 */
 1064               	/* stack size = 5 */
 1065               	.L__stack_usage = 5
 418:main.c        ****     if(delay == 0x02)
 1066               		.stabn	68,0,418,.LM122-.LFBB15
 1067               	.LM122:
 1068 0408 8091 0000 		lds r24,delay
 1069 040c 9091 0000 		lds r25,delay+1
 1070 0410 8230      		cpi r24,2
 1071 0412 9105      		cpc r25,__zero_reg__
 1072 0414 01F4      		brne .L63
 419:main.c        ****     {
 420:main.c        ****         wallbrightness += 0x07;
 421:main.c        ****         wallbrightness += 0x0500;
 1073               		.stabn	68,0,421,.LM123-.LFBB15
 1074               	.LM123:
 1075 0416 8091 0000 		lds r24,wallbrightness
 1076 041a 9091 0000 		lds r25,wallbrightness+1
 1077 041e 895F      		subi r24,-7
 1078 0420 9A4F      		sbci r25,-6
 1079 0422 9093 0000 		sts wallbrightness+1,r25
 1080 0426 8093 0000 		sts wallbrightness,r24
 422:main.c        ****         delay = 0;
 1081               		.stabn	68,0,422,.LM124-.LFBB15
 1082               	.LM124:
 1083 042a 1092 0000 		sts delay+1,__zero_reg__
 1084 042e 1092 0000 		sts delay,__zero_reg__
 1085 0432 00C0      		rjmp .L62
 1086               	.L63:
 423:main.c        ****     }else delay++;
 1087               		.stabn	68,0,423,.LM125-.LFBB15
 1088               	.LM125:
 1089 0434 0196      		adiw r24,1
 1090 0436 9093 0000 		sts delay+1,r25
 1091 043a 8093 0000 		sts delay,r24
 1092               	.L62:
 1093               	/* epilogue start */
GAS LISTING /tmp/ccP3TZct.s 			page 28


 424:main.c        **** }
 1094               		.stabn	68,0,424,.LM126-.LFBB15
 1095               	.LM126:
 1096 043e 9F91      		pop r25
 1097 0440 8F91      		pop r24
 1098 0442 0F90      		pop r0
 1099 0444 0FBE      		out __SREG__,r0
 1100 0446 0F90      		pop r0
 1101 0448 1F90      		pop r1
 1102 044a 1895      		reti
 1103               		.size	__vector_14, .-__vector_14
 1104               	.Lscope15:
 1105               		.stabs	"",36,0,0,.Lscope15-.LFBB15
 1106               		.stabd	78,0,0
 1107               		.stabs	"__vector_11:F(0,15)",36,0,426,__vector_11
 1108               	.global	__vector_11
 1109               		.type	__vector_11, @function
 1110               	__vector_11:
 1111               		.stabd	46,0,0
 425:main.c        **** 
 426:main.c        **** ISR(TIMER1_COMPA_vect)
 427:main.c        **** {
 1112               		.stabn	68,0,427,.LM127-.LFBB16
 1113               	.LM127:
 1114               	.LFBB16:
 1115 044c 1F92      		push r1
 1116 044e 0F92      		push r0
 1117 0450 0FB6      		in r0,__SREG__
 1118 0452 0F92      		push r0
 1119 0454 1124      		clr __zero_reg__
 1120 0456 2F93      		push r18
 1121 0458 3F93      		push r19
 1122 045a 4F93      		push r20
 1123 045c 5F93      		push r21
 1124 045e 6F93      		push r22
 1125 0460 7F93      		push r23
 1126 0462 8F93      		push r24
 1127 0464 9F93      		push r25
 1128 0466 AF93      		push r26
 1129 0468 BF93      		push r27
 1130 046a EF93      		push r30
 1131 046c FF93      		push r31
 1132               	/* prologue: Signal */
 1133               	/* frame size = 0 */
 1134               	/* stack size = 15 */
 1135               	.L__stack_usage = 15
 428:main.c        ****     erase_screen(0x0000);
 1136               		.stabn	68,0,428,.LM128-.LFBB16
 1137               	.LM128:
 1138 046e 80E0      		ldi r24,0
 1139 0470 90E0      		ldi r25,0
 1140 0472 00D0      		rcall erase_screen
 429:main.c        ****     //update x
 430:main.c        ****     switch(state){
 1141               		.stabn	68,0,430,.LM129-.LFBB16
 1142               	.LM129:
 1143 0474 8091 0000 		lds r24,state
GAS LISTING /tmp/ccP3TZct.s 			page 29


 1144 0478 8230      		cpi r24,lo8(2)
 1145 047a 01F0      		breq .L69
 1146 047c 00F4      		brsh .L72
 1147 047e 8823      		tst r24
 1148 0480 01F0      		breq .L67
 1149 0482 8130      		cpi r24,lo8(1)
 1150 0484 01F4      		brne .L66
 1151 0486 00C0      		rjmp .L68
 1152               	.L72:
 1153 0488 8330      		cpi r24,lo8(3)
 1154 048a 01F0      		breq .L70
 1155 048c 8430      		cpi r24,lo8(4)
 1156 048e 01F4      		brne .L66
 1157 0490 00C0      		rjmp .L71
 1158               	.L67:
 431:main.c        ****         case BOUNCER:
 432:main.c        ****             update_bouncer();
 1159               		.stabn	68,0,432,.LM130-.LFBB16
 1160               	.LM130:
 1161 0492 00D0      		rcall update_bouncer
 433:main.c        ****             break;
 1162               		.stabn	68,0,433,.LM131-.LFBB16
 1163               	.LM131:
 1164 0494 00C0      		rjmp .L66
 1165               	.L68:
 434:main.c        ****         case SMILEY:
 435:main.c        ****             update_smiley();
 1166               		.stabn	68,0,435,.LM132-.LFBB16
 1167               	.LM132:
 1168 0496 00D0      		rcall update_smiley
 436:main.c        ****             break;
 1169               		.stabn	68,0,436,.LM133-.LFBB16
 1170               	.LM133:
 1171 0498 00C0      		rjmp .L66
 1172               	.L69:
 437:main.c        ****         case SINE:
 438:main.c        ****             update_sine();
 1173               		.stabn	68,0,438,.LM134-.LFBB16
 1174               	.LM134:
 1175 049a 00D0      		rcall update_sine
 439:main.c        ****             break;
 1176               		.stabn	68,0,439,.LM135-.LFBB16
 1177               	.LM135:
 1178 049c 00C0      		rjmp .L66
 1179               	.L71:
 440:main.c        ****         case SINECIRCLE:
 441:main.c        ****             update_sinecircle();
 1180               		.stabn	68,0,441,.LM136-.LFBB16
 1181               	.LM136:
 1182 049e 00D0      		rcall update_sinecircle
 442:main.c        ****             break;
 1183               		.stabn	68,0,442,.LM137-.LFBB16
 1184               	.LM137:
 1185 04a0 00C0      		rjmp .L66
 1186               	.L70:
 443:main.c        ****         case TREE:
 444:main.c        ****             update_tree();
GAS LISTING /tmp/ccP3TZct.s 			page 30


 1187               		.stabn	68,0,444,.LM138-.LFBB16
 1188               	.LM138:
 1189 04a2 00D0      		rcall update_tree
 1190               	.L66:
 445:main.c        ****             break;
 446:main.c        ****     }//end switch
 447:main.c        **** 
 448:main.c        ****     statetimer += 1;
 1191               		.stabn	68,0,448,.LM139-.LFBB16
 1192               	.LM139:
 1193 04a4 8091 0000 		lds r24,statetimer
 1194 04a8 9091 0000 		lds r25,statetimer+1
 1195 04ac 0196      		adiw r24,1
 1196 04ae 9093 0000 		sts statetimer+1,r25
 1197 04b2 8093 0000 		sts statetimer,r24
 449:main.c        ****     if(statetimer==maxtimer)
 1198               		.stabn	68,0,449,.LM140-.LFBB16
 1199               	.LM140:
 1200 04b6 2091 0000 		lds r18,maxtimer
 1201 04ba 3091 0000 		lds r19,maxtimer+1
 1202 04be 8217      		cp r24,r18
 1203 04c0 9307      		cpc r25,r19
 1204 04c2 01F4      		brne .L65
 450:main.c        ****     {
 451:main.c        ****         statetimer=0;
 1205               		.stabn	68,0,451,.LM141-.LFBB16
 1206               	.LM141:
 1207 04c4 1092 0000 		sts statetimer+1,__zero_reg__
 1208 04c8 1092 0000 		sts statetimer,__zero_reg__
 452:main.c        ****         counter=0;
 1209               		.stabn	68,0,452,.LM142-.LFBB16
 1210               	.LM142:
 1211 04cc 1092 0000 		sts counter,__zero_reg__
 453:main.c        ****         state = (state+1)%(SINECIRCLE+1);
 1212               		.stabn	68,0,453,.LM143-.LFBB16
 1213               	.LM143:
 1214 04d0 8091 0000 		lds r24,state
 1215 04d4 90E0      		ldi r25,0
 1216 04d6 0196      		adiw r24,1
 1217 04d8 65E0      		ldi r22,lo8(5)
 1218 04da 70E0      		ldi r23,0
 1219 04dc 00D0      		rcall __divmodhi4
 1220 04de 8093 0000 		sts state,r24
 454:main.c        ****         switch(state){
 1221               		.stabn	68,0,454,.LM144-.LFBB16
 1222               	.LM144:
 1223 04e2 8230      		cpi r24,lo8(2)
 1224 04e4 01F0      		breq .L75
 1225 04e6 8430      		cpi r24,lo8(4)
 1226 04e8 01F4      		brne .L77
 1227 04ea 00C0      		rjmp .L76
 1228               	.L75:
 455:main.c        ****             case(SINE):
 456:main.c        ****                 configure_sine();
 1229               		.stabn	68,0,456,.LM145-.LFBB16
 1230               	.LM145:
 1231 04ec 00D0      		rcall configure_sine
GAS LISTING /tmp/ccP3TZct.s 			page 31


 457:main.c        ****                 break;
 1232               		.stabn	68,0,457,.LM146-.LFBB16
 1233               	.LM146:
 1234 04ee 00C0      		rjmp .L65
 1235               	.L76:
 458:main.c        ****             case(SINECIRCLE):
 459:main.c        ****                 configure_sinecircle();
 1236               		.stabn	68,0,459,.LM147-.LFBB16
 1237               	.LM147:
 1238 04f0 00D0      		rcall configure_sinecircle
 460:main.c        ****                 break;
 1239               		.stabn	68,0,460,.LM148-.LFBB16
 1240               	.LM148:
 1241 04f2 00C0      		rjmp .L65
 1242               	.L77:
 461:main.c        ****             default:
 462:main.c        ****                 OCR1A = 0x0fff;
 1243               		.stabn	68,0,462,.LM149-.LFBB16
 1244               	.LM149:
 1245 04f4 8FEF      		ldi r24,lo8(-1)
 1246 04f6 9FE0      		ldi r25,lo8(15)
 1247 04f8 9093 8900 		sts 136+1,r25
 1248 04fc 8093 8800 		sts 136,r24
 463:main.c        ****                 maxtimer = 0x00ff;
 1249               		.stabn	68,0,463,.LM150-.LFBB16
 1250               	.LM150:
 1251 0500 8FEF      		ldi r24,lo8(-1)
 1252 0502 90E0      		ldi r25,0
 1253 0504 9093 0000 		sts maxtimer+1,r25
 1254 0508 8093 0000 		sts maxtimer,r24
 1255               	.L65:
 1256               	/* epilogue start */
 464:main.c        ****         }
 465:main.c        ****     }
 466:main.c        **** }//end ISR COMPA TIMER1
 1257               		.stabn	68,0,466,.LM151-.LFBB16
 1258               	.LM151:
 1259 050c FF91      		pop r31
 1260 050e EF91      		pop r30
 1261 0510 BF91      		pop r27
 1262 0512 AF91      		pop r26
 1263 0514 9F91      		pop r25
 1264 0516 8F91      		pop r24
 1265 0518 7F91      		pop r23
 1266 051a 6F91      		pop r22
 1267 051c 5F91      		pop r21
 1268 051e 4F91      		pop r20
 1269 0520 3F91      		pop r19
 1270 0522 2F91      		pop r18
 1271 0524 0F90      		pop r0
 1272 0526 0FBE      		out __SREG__,r0
 1273 0528 0F90      		pop r0
 1274 052a 1F90      		pop r1
 1275 052c 1895      		reti
 1276               		.size	__vector_11, .-__vector_11
 1277               	.Lscope16:
 1278               		.stabs	"",36,0,0,.Lscope16-.LFBB16
GAS LISTING /tmp/ccP3TZct.s 			page 32


 1279               		.stabd	78,0,0
 1280               		.section	.text.startup,"ax",@progbits
 1281               		.stabs	"main:F(0,1)",36,0,470,main
 1282               	.global	main
 1283               		.type	main, @function
 1284               	main:
 1285               		.stabd	46,0,0
 467:main.c        **** 
 468:main.c        **** /* Main */
 469:main.c        **** 
 470:main.c        **** int main(void)
 471:main.c        **** {
 1286               		.stabn	68,0,471,.LM152-.LFBB17
 1287               	.LM152:
 1288               	.LFBB17:
 1289               	/* prologue: function */
 1290               	/* frame size = 0 */
 1291               	/* stack size = 0 */
 1292               	.L__stack_usage = 0
 472:main.c        **** 
 473:main.c        ****     setup();
 1293               		.stabn	68,0,473,.LM153-.LFBB17
 1294               	.LM153:
 1295 0000 00D0      		rcall setup
 474:main.c        **** 
 475:main.c        ****     //Configure all outputs
 476:main.c        ****     DDRB = 0xff; //SPI out
 1296               		.stabn	68,0,476,.LM154-.LFBB17
 1297               	.LM154:
 1298 0002 8FEF      		ldi r24,lo8(-1)
 1299 0004 84B9      		out 0x4,r24
 477:main.c        ****     DDRD = 0xff; //rows
 1300               		.stabn	68,0,477,.LM155-.LFBB17
 1301               	.LM155:
 1302 0006 8AB9      		out 0xa,r24
 478:main.c        ****     DDRC = 0xff; //shifter
 1303               		.stabn	68,0,478,.LM156-.LFBB17
 1304               	.LM156:
 1305 0008 87B9      		out 0x7,r24
 479:main.c        **** 
 480:main.c        ****     //Clear ports
 481:main.c        ****     PORTB = 0x00;
 1306               		.stabn	68,0,481,.LM157-.LFBB17
 1307               	.LM157:
 1308 000a 15B8      		out 0x5,__zero_reg__
 482:main.c        ****     PORTC = 0x00;
 1309               		.stabn	68,0,482,.LM158-.LFBB17
 1310               	.LM158:
 1311 000c 18B8      		out 0x8,__zero_reg__
 483:main.c        ****     PORTD = 0x00;
 1312               		.stabn	68,0,483,.LM159-.LFBB17
 1313               	.LM159:
 1314 000e 1BB8      		out 0xb,__zero_reg__
 484:main.c        **** 
 485:main.c        ****     //Initailize variables
 486:main.c        ****     uint8_t y=0;
 487:main.c        ****     PORTD = 0x00; //clear rows
GAS LISTING /tmp/ccP3TZct.s 			page 33


 1315               		.stabn	68,0,487,.LM160-.LFBB17
 1316               	.LM160:
 1317 0010 1BB8      		out 0xb,__zero_reg__
 488:main.c        ****     uint8_t x=0;
 489:main.c        ****     inttimer=0x00;
 1318               		.stabn	68,0,489,.LM161-.LFBB17
 1319               	.LM161:
 1320 0012 1092 0000 		sts inttimer,__zero_reg__
 486:main.c        ****     uint8_t y=0;
 1321               		.stabn	68,0,486,.LM162-.LFBB17
 1322               	.LM162:
 1323 0016 10E0      		ldi r17,0
 490:main.c        **** 
 491:main.c        ****     while(1)
 492:main.c        ****     {
 493:main.c        ****         PORTC &= NOT(BS(reset));//clear everything
 494:main.c        ****         PORTC = 0x00|BS(reset);
 1324               		.stabn	68,0,494,.LM163-.LFBB17
 1325               	.LM163:
 1326 0018 00E2      		ldi r16,lo8(32)
 495:main.c        **** 
 496:main.c        ****         //Green pixels
 497:main.c        ****         for(x=0;x<8;x++)
 498:main.c        ****         {
 499:main.c        ****             if( (((matrix[y][x]))&0x00ff) >= inttimer)
 500:main.c        ****             {
 501:main.c        ****                 PORTC |= BS(data);
 502:main.c        ****             }else{
 503:main.c        ****                 PORTC &= NOT(BS(data));
 504:main.c        ****             }
 505:main.c        **** 
 506:main.c        ****             PORTC |= BS(shift);
 507:main.c        ****             PORTC &= NOT(BS(shift));
 508:main.c        ****         }
 509:main.c        **** 
 510:main.c        ****           //Red pixels
 511:main.c        ****         for(x=0;x<8;x++)
 512:main.c        ****         {
 513:main.c        ****             if( (((matrix[y][x])>>8)) >= inttimer)
 514:main.c        ****             {
 515:main.c        ****                 PORTC |= BS(data);
 516:main.c        ****             }else{
 517:main.c        ****                 PORTC &= NOT(BS(data));
 518:main.c        ****             }
 519:main.c        **** 
 520:main.c        ****             PORTC |= BS(shift);
 521:main.c        ****             PORTC &= NOT(BS(shift));
 522:main.c        ****         }//end for
 523:main.c        **** 
 524:main.c        ****         PORTD = 0x00; //clear display
 525:main.c        ****         PORTC |= BS(latch);
 526:main.c        ****         PORTC &= NOT(BS(latch));
 527:main.c        **** 
 528:main.c        ****         //Output row data
 529:main.c        ****         PORTD = BS(y);
 1327               		.stabn	68,0,529,.LM164-.LFBB17
 1328               	.LM164:
GAS LISTING /tmp/ccP3TZct.s 			page 34


 1329 001a E1E0      		ldi r30,lo8(1)
 1330 001c F0E0      		ldi r31,0
 530:main.c        ****         y++;
 531:main.c        ****         y = y%8;
 532:main.c        **** 
 533:main.c        **** 
 534:main.c        ****         //Increment intensity timer
 535:main.c        ****         
 536:main.c        ****         if(inttimer==255)
 537:main.c        ****             inttimer=1;
 1331               		.stabn	68,0,537,.LM165-.LFBB17
 1332               	.LM165:
 1333 001e FF24      		clr r15
 1334 0020 F394      		inc r15
 1335               	.L90:
 493:main.c        ****         PORTC &= NOT(BS(reset));//clear everything
 1336               		.stabn	68,0,493,.LM166-.LFBB17
 1337               	.LM166:
 1338 0022 4598      		cbi 0x8,5
 494:main.c        ****         PORTC = 0x00|BS(reset);
 1339               		.stabn	68,0,494,.LM167-.LFBB17
 1340               	.LM167:
 1341 0024 08B9      		out 0x8,r16
 470:main.c        **** int main(void)
 1342               		.stabn	68,0,470,.LM168-.LFBB17
 1343               	.LM168:
 1344 0026 612F      		mov r22,r17
 1345 0028 70E0      		ldi r23,0
 1346 002a 9B01      		movw r18,r22
 1347 002c A4E0      		ldi r26,4
 1348               		1:
 1349 002e 220F      		lsl r18
 1350 0030 331F      		rol r19
 1351 0032 AA95      		dec r26
 1352 0034 01F4      		brne 1b
 1353 0036 2050      		subi r18,lo8(-(matrix))
 1354 0038 3040      		sbci r19,hi8(-(matrix))
 1355 003a 80E0      		ldi r24,0
 1356 003c 90E0      		ldi r25,0
 1357               	.L82:
 1358 003e D901      		movw r26,r18
 1359 0040 A80F      		add r26,r24
 1360 0042 B91F      		adc r27,r25
 499:main.c        ****             if( (((matrix[y][x]))&0x00ff) >= inttimer)
 1361               		.stabn	68,0,499,.LM169-.LFBB17
 1362               	.LM169:
 1363 0044 4D91      		ld r20,X+
 1364 0046 5C91      		ld r21,X
 1365 0048 5527      		clr r21
 1366 004a A091 0000 		lds r26,inttimer
 1367 004e B0E0      		ldi r27,0
 1368 0050 4A17      		cp r20,r26
 1369 0052 5B07      		cpc r21,r27
 1370 0054 00F0      		brlo .L80
 501:main.c        ****                 PORTC |= BS(data);
 1371               		.stabn	68,0,501,.LM170-.LFBB17
 1372               	.LM170:
GAS LISTING /tmp/ccP3TZct.s 			page 35


 1373 0056 409A      		sbi 0x8,0
 1374 0058 00C0      		rjmp .L81
 1375               	.L80:
 503:main.c        ****                 PORTC &= NOT(BS(data));
 1376               		.stabn	68,0,503,.LM171-.LFBB17
 1377               	.LM171:
 1378 005a 4098      		cbi 0x8,0
 1379               	.L81:
 506:main.c        ****             PORTC |= BS(shift);
 1380               		.stabn	68,0,506,.LM172-.LFBB17
 1381               	.LM172:
 1382 005c 419A      		sbi 0x8,1
 507:main.c        ****             PORTC &= NOT(BS(shift));
 1383               		.stabn	68,0,507,.LM173-.LFBB17
 1384               	.LM173:
 1385 005e 4198      		cbi 0x8,1
 1386 0060 0296      		adiw r24,2
 497:main.c        ****         for(x=0;x<8;x++)
 1387               		.stabn	68,0,497,.LM174-.LFBB17
 1388               	.LM174:
 1389 0062 8031      		cpi r24,16
 1390 0064 9105      		cpc r25,__zero_reg__
 1391 0066 01F4      		brne .L82
 470:main.c        **** int main(void)
 1392               		.stabn	68,0,470,.LM175-.LFBB17
 1393               	.LM175:
 1394 0068 9B01      		movw r18,r22
 1395 006a 74E0      		ldi r23,4
 1396               		1:
 1397 006c 220F      		lsl r18
 1398 006e 331F      		rol r19
 1399 0070 7A95      		dec r23
 1400 0072 01F4      		brne 1b
 1401 0074 2050      		subi r18,lo8(-(matrix))
 1402 0076 3040      		sbci r19,hi8(-(matrix))
 1403 0078 80E0      		ldi r24,0
 1404 007a 90E0      		ldi r25,0
 1405               	.L85:
 1406 007c D901      		movw r26,r18
 1407 007e A80F      		add r26,r24
 1408 0080 B91F      		adc r27,r25
 513:main.c        ****             if( (((matrix[y][x])>>8)) >= inttimer)
 1409               		.stabn	68,0,513,.LM176-.LFBB17
 1410               	.LM176:
 1411 0082 1196      		adiw r26,1
 1412 0084 4C91      		ld r20,X
 1413 0086 C42F      		mov r28,r20
 1414 0088 40E0      		ldi r20,0
 1415 008a D42F      		mov r29,r20
 1416 008c 4091 0000 		lds r20,inttimer
 1417 0090 50E0      		ldi r21,0
 1418 0092 C417      		cp r28,r20
 1419 0094 D507      		cpc r29,r21
 1420 0096 00F0      		brlo .L83
 515:main.c        ****                 PORTC |= BS(data);
 1421               		.stabn	68,0,515,.LM177-.LFBB17
 1422               	.LM177:
GAS LISTING /tmp/ccP3TZct.s 			page 36


 1423 0098 409A      		sbi 0x8,0
 1424 009a 00C0      		rjmp .L84
 1425               	.L83:
 517:main.c        ****                 PORTC &= NOT(BS(data));
 1426               		.stabn	68,0,517,.LM178-.LFBB17
 1427               	.LM178:
 1428 009c 4098      		cbi 0x8,0
 1429               	.L84:
 520:main.c        ****             PORTC |= BS(shift);
 1430               		.stabn	68,0,520,.LM179-.LFBB17
 1431               	.LM179:
 1432 009e 419A      		sbi 0x8,1
 521:main.c        ****             PORTC &= NOT(BS(shift));
 1433               		.stabn	68,0,521,.LM180-.LFBB17
 1434               	.LM180:
 1435 00a0 4198      		cbi 0x8,1
 1436 00a2 0296      		adiw r24,2
 511:main.c        ****         for(x=0;x<8;x++)
 1437               		.stabn	68,0,511,.LM181-.LFBB17
 1438               	.LM181:
 1439 00a4 8031      		cpi r24,16
 1440 00a6 9105      		cpc r25,__zero_reg__
 1441 00a8 01F4      		brne .L85
 524:main.c        ****         PORTD = 0x00; //clear display
 1442               		.stabn	68,0,524,.LM182-.LFBB17
 1443               	.LM182:
 1444 00aa 1BB8      		out 0xb,__zero_reg__
 525:main.c        ****         PORTC |= BS(latch);
 1445               		.stabn	68,0,525,.LM183-.LFBB17
 1446               	.LM183:
 1447 00ac 429A      		sbi 0x8,2
 526:main.c        ****         PORTC &= NOT(BS(latch));
 1448               		.stabn	68,0,526,.LM184-.LFBB17
 1449               	.LM184:
 1450 00ae 4298      		cbi 0x8,2
 529:main.c        ****         PORTD = BS(y);
 1451               		.stabn	68,0,529,.LM185-.LFBB17
 1452               	.LM185:
 1453 00b0 CF01      		movw r24,r30
 1454 00b2 00C0      		rjmp 2f
 1455               		1:
 1456 00b4 880F      		lsl r24
 1457 00b6 991F      		rol r25
 1458               		2:
 1459 00b8 6A95      		dec r22
 1460 00ba 02F4      		brpl 1b
 1461 00bc 8BB9      		out 0xb,r24
 530:main.c        ****         y++;
 1462               		.stabn	68,0,530,.LM186-.LFBB17
 1463               	.LM186:
 1464 00be 1F5F      		subi r17,lo8(-(1))
 531:main.c        ****         y = y%8;
 1465               		.stabn	68,0,531,.LM187-.LFBB17
 1466               	.LM187:
 1467 00c0 1770      		andi r17,lo8(7)
 536:main.c        ****         if(inttimer==255)
 1468               		.stabn	68,0,536,.LM188-.LFBB17
GAS LISTING /tmp/ccP3TZct.s 			page 37


 1469               	.LM188:
 1470 00c2 8091 0000 		lds r24,inttimer
 1471 00c6 8F3F      		cpi r24,lo8(-1)
 1472 00c8 01F4      		brne .L86
 1473               		.stabn	68,0,537,.LM189-.LFBB17
 1474               	.LM189:
 1475 00ca F092 0000 		sts inttimer,r15
 1476 00ce 00C0      		rjmp .L90
 1477               	.L86:
 538:main.c        ****         else
 539:main.c        ****             inttimer++;
 1478               		.stabn	68,0,539,.LM190-.LFBB17
 1479               	.LM190:
 1480 00d0 8F5F      		subi r24,lo8(-(1))
 1481 00d2 8093 0000 		sts inttimer,r24
 1482 00d6 00C0      		rjmp .L90
 1483               		.size	main, .-main
 1484               	.Lscope17:
 1485               		.stabs	"",36,0,0,.Lscope17-.LFBB17
 1486               		.stabd	78,0,0
 1487               	.global	treemap
 1488               		.data
 1489               		.type	treemap, @object
 1490               		.size	treemap, 24
 1491               	treemap:
 1492 0000 38        		.byte	56
 1493 0001 3E        		.byte	62
 1494 0002 7F        		.byte	127
 1495 0003 FF        		.byte	-1
 1496 0004 7E        		.byte	126
 1497 0005 00        		.byte	0
 1498 0006 00        		.byte	0
 1499 0007 00        		.byte	0
 1500 0008 00        		.byte	0
 1501 0009 00        		.byte	0
 1502 000a 00        		.byte	0
 1503 000b 00        		.byte	0
 1504 000c 00        		.byte	0
 1505 000d 18        		.byte	24
 1506 000e 18        		.byte	24
 1507 000f 3C        		.byte	60
 1508 0010 00        		.byte	0
 1509 0011 08        		.byte	8
 1510 0012 22        		.byte	34
 1511 0013 40        		.byte	64
 1512 0014 00        		.byte	0
 1513 0015 00        		.byte	0
 1514 0016 00        		.byte	0
 1515 0017 00        		.byte	0
 1516               	.global	sinecirclemap
 1517               		.type	sinecirclemap, @object
 1518               		.size	sinecirclemap, 88
 1519               	sinecirclemap:
 1520 0018 00        		.byte	0
 1521 0019 00        		.byte	0
 1522 001a 00        		.byte	0
 1523 001b 00        		.byte	0
GAS LISTING /tmp/ccP3TZct.s 			page 38


 1524 001c 00        		.byte	0
 1525 001d 00        		.byte	0
 1526 001e 00        		.byte	0
 1527 001f 00        		.byte	0
 1528 0020 00        		.byte	0
 1529 0021 00        		.byte	0
 1530 0022 00        		.byte	0
 1531 0023 00        		.byte	0
 1532 0024 00        		.byte	0
 1533 0025 00        		.byte	0
 1534 0026 00        		.byte	0
 1535 0027 00        		.byte	0
 1536 0028 00        		.byte	0
 1537 0029 00        		.byte	0
 1538 002a 00        		.byte	0
 1539 002b 00        		.byte	0
 1540 002c 00        		.byte	0
 1541 002d 00        		.byte	0
 1542 002e 00        		.byte	0
 1543 002f 00        		.byte	0
 1544 0030 00        		.byte	0
 1545 0031 00        		.byte	0
 1546 0032 00        		.byte	0
 1547 0033 10        		.byte	16
 1548 0034 00        		.byte	0
 1549 0035 00        		.byte	0
 1550 0036 00        		.byte	0
 1551 0037 00        		.byte	0
 1552 0038 00        		.byte	0
 1553 0039 00        		.byte	0
 1554 003a 00        		.byte	0
 1555 003b 18        		.byte	24
 1556 003c 18        		.byte	24
 1557 003d 00        		.byte	0
 1558 003e 00        		.byte	0
 1559 003f 00        		.byte	0
 1560 0040 00        		.byte	0
 1561 0041 00        		.byte	0
 1562 0042 18        		.byte	24
 1563 0043 24        		.byte	36
 1564 0044 24        		.byte	36
 1565 0045 18        		.byte	24
 1566 0046 00        		.byte	0
 1567 0047 00        		.byte	0
 1568 0048 00        		.byte	0
 1569 0049 24        		.byte	36
 1570 004a 66        		.byte	102
 1571 004b 00        		.byte	0
 1572 004c 00        		.byte	0
 1573 004d 66        		.byte	102
 1574 004e 24        		.byte	36
 1575 004f 00        		.byte	0
 1576 0050 00        		.byte	0
 1577 0051 18        		.byte	24
 1578 0052 00        		.byte	0
 1579 0053 42        		.byte	66
 1580 0054 42        		.byte	66
GAS LISTING /tmp/ccP3TZct.s 			page 39


 1581 0055 00        		.byte	0
 1582 0056 18        		.byte	24
 1583 0057 00        		.byte	0
 1584 0058 24        		.byte	36
 1585 0059 42        		.byte	66
 1586 005a 81        		.byte	-127
 1587 005b 00        		.byte	0
 1588 005c 00        		.byte	0
 1589 005d 81        		.byte	-127
 1590 005e 42        		.byte	66
 1591 005f 24        		.byte	36
 1592 0060 C3        		.byte	-61
 1593 0061 81        		.byte	-127
 1594 0062 00        		.byte	0
 1595 0063 00        		.byte	0
 1596 0064 00        		.byte	0
 1597 0065 00        		.byte	0
 1598 0066 81        		.byte	-127
 1599 0067 C3        		.byte	-61
 1600 0068 18        		.byte	24
 1601 0069 00        		.byte	0
 1602 006a 00        		.byte	0
 1603 006b 81        		.byte	-127
 1604 006c 81        		.byte	-127
 1605 006d 00        		.byte	0
 1606 006e 00        		.byte	0
 1607 006f 18        		.byte	24
 1608               	.global	sinemap
 1609               		.type	sinemap, @object
 1610               		.size	sinemap, 32
 1611               	sinemap:
 1612 0070 00        		.byte	0
 1613 0071 00        		.byte	0
 1614 0072 00        		.byte	0
 1615 0073 0F        		.byte	15
 1616 0074 03        		.byte	3
 1617 0075 00        		.byte	0
 1618 0076 C0        		.byte	-64
 1619 0077 00        		.byte	0
 1620 0078 0C        		.byte	12
 1621 0079 00        		.byte	0
 1622 007a 30        		.byte	48
 1623 007b 00        		.byte	0
 1624 007c 10        		.byte	16
 1625 007d 00        		.byte	0
 1626 007e 08        		.byte	8
 1627 007f 00        		.byte	0
 1628 0080 20        		.byte	32
 1629 0081 00        		.byte	0
 1630 0082 04        		.byte	4
 1631 0083 00        		.byte	0
 1632 0084 C0        		.byte	-64
 1633 0085 00        		.byte	0
 1634 0086 03        		.byte	3
 1635 0087 00        		.byte	0
 1636 0088 00        		.byte	0
 1637 0089 C3        		.byte	-61
GAS LISTING /tmp/ccP3TZct.s 			page 40


 1638 008a 00        		.byte	0
 1639 008b 00        		.byte	0
 1640 008c 00        		.byte	0
 1641 008d 3C        		.byte	60
 1642 008e 00        		.byte	0
 1643 008f 00        		.byte	0
 1644               	.global	smileymap
 1645               		.type	smileymap, @object
 1646               		.size	smileymap, 8
 1647               	smileymap:
 1648 0090 3C        		.byte	60
 1649 0091 42        		.byte	66
 1650 0092 A5        		.byte	-91
 1651 0093 81        		.byte	-127
 1652 0094 A5        		.byte	-91
 1653 0095 99        		.byte	-103
 1654 0096 42        		.byte	66
 1655 0097 3C        		.byte	60
 1656               		.comm	apples,5,1
 1657               		.comm	counter,1,1
 1658               		.comm	wallbrightness,2,1
 1659               		.comm	diry,1,1
 1660               		.comm	dirx,1,1
 1661               		.comm	posy,1,1
 1662               		.comm	posx,1,1
 1663               		.comm	delay,2,1
 1664               		.comm	maxtimer,2,1
 1665               		.comm	inttimer,1,1
 1666               		.comm	matrix,128,1
 1667               		.comm	statetimer,2,1
 1668               		.comm	state,1,1
 1669               		.stabs	"state:G(5,2)",32,0,37,0
 1670               		.stabs	"statetimer:G(5,4)",32,0,38,0
 1671               		.stabs	"matrix:G(0,17)=ar(0,18)=r(0,18);0;0177777;;0;7;(0,19)=ar(0,18);0;7;(5,4)",32,0,39,0
 1672               		.stabs	"inttimer:G(5,2)",32,0,40,0
 1673               		.stabs	"maxtimer:G(5,4)",32,0,41,0
 1674               		.stabs	"delay:G(5,4)",32,0,42,0
 1675               		.stabs	"posx:G(5,2)",32,0,45,0
 1676               		.stabs	"posy:G(5,2)",32,0,46,0
 1677               		.stabs	"dirx:G(5,2)",32,0,47,0
 1678               		.stabs	"diry:G(5,2)",32,0,48,0
 1679               		.stabs	"wallbrightness:G(5,4)",32,0,49,0
 1680               		.stabs	"counter:G(5,2)",32,0,52,0
 1681               		.stabs	"apples:G(0,20)=ar(0,18);0;4;(5,2)",32,0,55,0
 1682               		.stabs	"smileymap:G(0,21)=ar(0,18);0;7;(5,2)",32,0,58,0
 1683               		.stabs	"sinemap:G(0,22)=ar(0,18);0;7;(5,6)",32,0,70,0
 1684               		.stabs	"sinecirclemap:G(0,23)=ar(0,18);0;10;(0,21)",32,0,82,0
 1685               		.stabs	"treemap:G(0,24)=ar(0,18);0;2;(0,21)",32,0,195,0
 1686               		.text
 1687               		.stabs	"",100,0,0,.Letext0
 1688               	.Letext0:
 1689               		.ident	"GCC: (GNU) 4.7.0"
 1690               	.global __do_copy_data
 1691               	.global __do_clear_bss
GAS LISTING /tmp/ccP3TZct.s 			page 41


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccP3TZct.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccP3TZct.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccP3TZct.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccP3TZct.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccP3TZct.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccP3TZct.s:89     .text:0000000000000000 erase_screen
                            *COM*:0000000000000080 matrix
     /tmp/ccP3TZct.s:138    .text:0000000000000030 copy_image
     /tmp/ccP3TZct.s:231    .text:000000000000009c draw_circle
     /tmp/ccP3TZct.s:1519   .data:0000000000000018 sinecirclemap
     /tmp/ccP3TZct.s:309    .text:00000000000000f6 draw_outline
                            *COM*:0000000000000002 wallbrightness
     /tmp/ccP3TZct.s:394    .text:000000000000014e update_sinecircle
                            *COM*:0000000000000001 counter
     /tmp/ccP3TZct.s:431    .text:0000000000000170 update_sine
     /tmp/ccP3TZct.s:1611   .data:0000000000000070 sinemap
     /tmp/ccP3TZct.s:591    .text:0000000000000256 update_smiley
     /tmp/ccP3TZct.s:1647   .data:0000000000000090 smileymap
     /tmp/ccP3TZct.s:614    .text:0000000000000264 update_tree
     /tmp/ccP3TZct.s:1491   .data:0000000000000000 treemap
     /tmp/ccP3TZct.s:651    .text:0000000000000286 update_bouncer
                            *COM*:0000000000000001 dirx
                            *COM*:0000000000000001 posx
                            *COM*:0000000000000001 diry
                            *COM*:0000000000000001 posy
     /tmp/ccP3TZct.s:768    .text:000000000000030c configure_sine
                            *COM*:0000000000000002 maxtimer
     /tmp/ccP3TZct.s:815    .text:0000000000000332 configure_sinecircle
     /tmp/ccP3TZct.s:862    .text:0000000000000358 configure_timer0
     /tmp/ccP3TZct.s:921    .text:000000000000037a configure_timer1
     /tmp/ccP3TZct.s:985    .text:00000000000003b0 setup
                            *COM*:0000000000000001 state
                            *COM*:0000000000000002 statetimer
                            *COM*:0000000000000002 delay
     /tmp/ccP3TZct.s:1050   .text:00000000000003fa __vector_14
     /tmp/ccP3TZct.s:1110   .text:000000000000044c __vector_11
     /tmp/ccP3TZct.s:1284   .text.startup:0000000000000000 main
                            *COM*:0000000000000001 inttimer
                            *COM*:0000000000000005 apples

UNDEFINED SYMBOLS
__divmodhi4
__do_copy_data
__do_clear_bss
